@page "/components/scroll-area"

<PageTitle>Scroll Area â€” Lumeo</PageTitle>

<PageHeader Title="Scroll Area" Description="A scrollable container with styled scrollbar." />

<div class="space-y-8">
    <ComponentDemo Title="Vertical Scroll" Code="@_defaultCode">
        <div class="w-full max-w-xs">
            <ScrollArea Class="h-72 rounded-md border bg-card p-4">
                <h4 class="mb-4 text-sm font-medium text-foreground leading-none">Tags</h4>
                @foreach (var tag in _tags)
                {
                    <div class="text-sm text-foreground py-2 border-b last:border-0">@tag</div>
                }
            </ScrollArea>
        </div>
    </ComponentDemo>

    <ComponentDemo Title="Chat Messages" Code="@_chatCode">
        <div class="w-full max-w-xs">
            <ScrollArea Class="h-64 rounded-md border bg-card p-4">
                <div class="space-y-3">
                    @foreach (var msg in _messages)
                    {
                        <div class="@($"flex flex-col {(msg.Mine ? "items-end" : "items-start")}")">
                            <span class="text-xs text-muted-foreground mb-1">@msg.Author</span>
                            <div class="@($"rounded-lg px-3 py-2 text-sm max-w-[200px] {(msg.Mine ? "bg-primary text-primary-foreground" : "bg-muted text-foreground")}")">
                                @msg.Text
                            </div>
                        </div>
                    }
                </div>
            </ScrollArea>
        </div>
    </ComponentDemo>

    <ComponentDemo Title="Horizontal Scroll" Code="@_horizontalCode">
        <ScrollArea Class="w-full max-w-lg whitespace-nowrap rounded-md border bg-card p-4">
            <div class="flex gap-4">
                @for (var i = 1; i <= 12; i++)
                {
                    <div class="flex-shrink-0 w-32 h-20 rounded-md bg-muted flex items-center justify-center text-sm text-muted-foreground">
                        Item @i
                    </div>
                }
            </div>
        </ScrollArea>
    </ComponentDemo>
</div>

@code {
    private readonly string[] _tags =
    [
        "Blazor", "ASP.NET Core", "C#", "Tailwind CSS", "ECharts",
        "SignalR", "Entity Framework", "gRPC", "Minimal APIs",
        "MudBlazor", "Radzen", "FluentUI", "Lumeo", "MAUI",
        ".NET 10", "WebAssembly", "Server-side", "Auto render"
    ];

    private record ChatMsg(string Author, string Text, bool Mine);
    private readonly List<ChatMsg> _messages = new()
    {
        new("Alice", "Hey, did you review the PR?", false),
        new("You", "Yes! Left some comments.", true),
        new("Alice", "Thanks. I'll address them now.", false),
        new("You", "No rush, take your time.", true),
        new("Alice", "Done. Can you re-review?", false),
        new("You", "On it!", true),
        new("Alice", "Appreciate it, thanks!", false),
    };

    private string _chatCode = @"<ScrollArea Class=""h-64 rounded-md border p-4"">
    <div class=""space-y-3"">
        @foreach (var msg in _messages)
        {
            <div class=""@($""flex flex-col {(msg.Mine ? ""items-end"" : ""items-start"")}"")>
                <div class=""@($""rounded-lg px-3 py-2 text-sm {(msg.Mine ? ""bg-primary text-primary-foreground"" : ""bg-muted text-foreground"")}"")>
                    @msg.Text
                </div>
            </div>
        }
    </div>
</ScrollArea>";

    private string _defaultCode = @"<ScrollArea Class=""h-72 rounded-md border p-4"">
    <h4 class=""mb-4 text-sm font-medium leading-none"">Tags</h4>
    @foreach (var tag in _tags)
    {
        <div class=""text-sm py-2 border-b"">@tag</div>
    }
</ScrollArea>";

    private string _horizontalCode = @"<ScrollArea Class=""w-full whitespace-nowrap rounded-md border p-4"">
    <div class=""flex gap-4"">
        @for (var i = 1; i <= 12; i++)
        {
            <div class=""flex-shrink-0 w-32 h-20 rounded-md bg-muted flex items-center justify-center"">
                Item @i
            </div>
        }
    </div>
</ScrollArea>";
}
