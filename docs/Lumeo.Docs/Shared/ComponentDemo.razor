<div class="space-y-4">
    <div class="flex items-center justify-between">
        @if (Title != null)
        {
            <h3 class="text-sm font-medium text-foreground">@Title</h3>
        }
        <button class="text-xs text-muted-foreground hover:text-foreground transition-colors" @onclick="ToggleCode">
            @(_showCode ? "Hide Code" : "View Code")
        </button>
    </div>

    <div class="rounded-lg border bg-card p-6 flex items-center justify-center min-h-[120px]">
        @ChildContent
    </div>

    @if (_showCode && Code != null)
    {
        <div class="code-block">@Code</div>
    }
</div>

@code {
    [Parameter] public RenderFragment? ChildContent { get; set; }
    [Parameter] public string? Title { get; set; }
    [Parameter] public string? Code { get; set; }

    private bool _showCode;

    private void ToggleCode() => _showCode = !_showCode;
}
