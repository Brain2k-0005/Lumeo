@page "/components/scrollspy"

<PageTitle>Scrollspy â€” Lumeo</PageTitle>

<PageHeader Title="Scrollspy" Description="Monitors scroll position within a container and highlights the corresponding navigation link." />

<div class="space-y-8">
    <ComponentDemo Title="Vertical Scrollspy" Code="@_verticalCode">
        <Scrollspy Class="flex gap-4 w-full max-w-2xl" @bind-ActiveId="_activeVertical">
            <nav class="flex flex-col gap-1 w-40 shrink-0 sticky top-0 self-start">
                @for (int i = 1; i <= 6; i++)
                {
                    var id = $"v-section-{i}";
                    var label = $"Section {i}";
                    <ScrollspyLink Target="@id"
                                   Class="px-3 py-1.5 rounded-md text-sm font-medium text-muted-foreground transition-colors hover:text-foreground data-[active=true]:bg-primary data-[active=true]:text-primary-foreground">
                        @label
                    </ScrollspyLink>
                }
            </nav>
            <div class="flex-1 overflow-y-auto h-[400px] space-y-0 rounded-md border">
                @for (int i = 1; i <= 6; i++)
                {
                    var id = $"v-section-{i}";
                    var title = $"Section {i}";
                    <ScrollspySection Id="@id" Class="p-6 min-h-[300px]">
                        <h3 class="text-lg font-semibold mb-2">@title</h3>
                        <p class="text-sm text-muted-foreground leading-relaxed">
                            This is the content for @title. Scroll through the container to see the
                            navigation links update automatically. Each section is tracked by the
                            Scrollspy component, which detects which section is currently in view
                            and highlights the corresponding link in the sidebar navigation.
                        </p>
                        <p class="text-sm text-muted-foreground leading-relaxed mt-4">
                            Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod
                            tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam,
                            quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.
                        </p>
                    </ScrollspySection>
                }
            </div>
        </Scrollspy>
    </ComponentDemo>

    <ComponentDemo Title="Horizontal Nav" Code="@_horizontalCode">
        <Scrollspy Class="flex flex-col w-full max-w-2xl" @bind-ActiveId="_activeHorizontal">
            <nav class="flex gap-1 mb-4 border-b pb-2">
                @for (int i = 1; i <= 6; i++)
                {
                    var id = $"h-section-{i}";
                    var label = $"Section {i}";
                    <ScrollspyLink Target="@id"
                                   Class="px-3 py-1.5 rounded-md text-sm font-medium text-muted-foreground transition-colors hover:text-foreground data-[active=true]:bg-primary data-[active=true]:text-primary-foreground">
                        @label
                    </ScrollspyLink>
                }
            </nav>
            <div class="overflow-y-auto h-[400px] space-y-0 rounded-md border">
                @for (int i = 1; i <= 6; i++)
                {
                    var id = $"h-section-{i}";
                    var title = $"Section {i}";
                    <ScrollspySection Id="@id" Class="p-6 min-h-[300px]">
                        <h3 class="text-lg font-semibold mb-2">@title</h3>
                        <p class="text-sm text-muted-foreground leading-relaxed">
                            This is the content for @title. Click any navigation link above to
                            smooth-scroll to that section, or scroll manually to see the active
                            link update in real time.
                        </p>
                        <p class="text-sm text-muted-foreground leading-relaxed mt-4">
                            Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore
                            eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident,
                            sunt in culpa qui officia deserunt mollit anim id est laborum.
                        </p>
                    </ScrollspySection>
                }
            </div>
        </Scrollspy>
    </ComponentDemo>
</div>

@code {
    private string? _activeVertical;
    private string? _activeHorizontal;

    private string _verticalCode = @"<Scrollspy Class=""flex gap-4"" @bind-ActiveId=""_active"">
    <nav class=""flex flex-col gap-1 w-40 shrink-0"">
        <ScrollspyLink Target=""section-1""
                       Class=""px-3 py-1.5 rounded-md text-sm font-medium text-muted-foreground
                              data-[active=true]:bg-primary data-[active=true]:text-primary-foreground"">
            Section 1
        </ScrollspyLink>
        <ScrollspyLink Target=""section-2"" Class=""..."">Section 2</ScrollspyLink>
        <ScrollspyLink Target=""section-3"" Class=""..."">Section 3</ScrollspyLink>
    </nav>
    <div class=""flex-1 overflow-y-auto h-[400px] rounded-md border"">
        <ScrollspySection Id=""section-1"" Class=""p-6 min-h-[300px]"">
            <h3>Section 1</h3>
            <p>Content for section 1...</p>
        </ScrollspySection>
        <ScrollspySection Id=""section-2"" Class=""p-6 min-h-[300px]"">
            <h3>Section 2</h3>
            <p>Content for section 2...</p>
        </ScrollspySection>
        <ScrollspySection Id=""section-3"" Class=""p-6 min-h-[300px]"">
            <h3>Section 3</h3>
            <p>Content for section 3...</p>
        </ScrollspySection>
    </div>
</Scrollspy>

@code {
    private string? _active;
}";

    private string _horizontalCode = @"<Scrollspy Class=""flex flex-col"" @bind-ActiveId=""_active"">
    <nav class=""flex gap-1 mb-4 border-b pb-2"">
        <ScrollspyLink Target=""section-1""
                       Class=""px-3 py-1.5 rounded-md text-sm font-medium text-muted-foreground
                              data-[active=true]:bg-primary data-[active=true]:text-primary-foreground"">
            Section 1
        </ScrollspyLink>
        <ScrollspyLink Target=""section-2"" Class=""..."">Section 2</ScrollspyLink>
    </nav>
    <div class=""overflow-y-auto h-[400px] rounded-md border"">
        <ScrollspySection Id=""section-1"" Class=""p-6 min-h-[300px]"">
            <h3>Section 1</h3>
            <p>Content...</p>
        </ScrollspySection>
        <ScrollspySection Id=""section-2"" Class=""p-6 min-h-[300px]"">
            <h3>Section 2</h3>
            <p>Content...</p>
        </ScrollspySection>
    </div>
</Scrollspy>

@code {
    private string? _active;
}";
}
