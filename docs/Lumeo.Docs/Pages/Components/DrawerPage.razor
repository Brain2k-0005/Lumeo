@page "/components/drawer"

<PageTitle>Drawer â€” Lumeo</PageTitle>

<PageHeader Title="Drawer" Description="A panel that slides up from the bottom of the screen on mobile devices." />

<div class="space-y-8">
    <ComponentDemo Title="Default" Code="@_defaultCode">
        <Drawer @bind-IsOpen="_isOpen">
            <DrawerTrigger>
                <Button Variant="Button.ButtonVariant.Outline">Open Drawer</Button>
            </DrawerTrigger>
            <DrawerContent>
                <DrawerHeader>
                    <DrawerTitle>Move Goal</DrawerTitle>
                    <DrawerDescription>Set your daily activity goal.</DrawerDescription>
                </DrawerHeader>
                <div class="p-4 pb-0">
                    <div class="flex items-center justify-center space-x-4">
                        <Button Variant="Button.ButtonVariant.Outline" Size="Button.ButtonSize.Icon" OnClick="Decrease">
                            <Blazicon Svg="Lucide.Minus" class="h-4 w-4" />
                        </Button>
                        <div class="text-center">
                            <div class="text-5xl font-bold tracking-tighter">@_goal</div>
                            <div class="text-sm text-muted-foreground mt-1">calories/day</div>
                        </div>
                        <Button Variant="Button.ButtonVariant.Outline" Size="Button.ButtonSize.Icon" OnClick="Increase">
                            <Blazicon Svg="Lucide.Plus" class="h-4 w-4" />
                        </Button>
                    </div>
                </div>
                <DrawerFooter>
                    <DrawerClose>
                        <Button Class="w-full">Submit</Button>
                    </DrawerClose>
                    <DrawerClose>
                        <Button Variant="Button.ButtonVariant.Outline" Class="w-full">Cancel</Button>
                    </DrawerClose>
                </DrawerFooter>
            </DrawerContent>
        </Drawer>
    </ComponentDemo>

    <ComponentDemo Title="Filters Drawer" Code="@_filtersCode">
        <Drawer @bind-IsOpen="_isFiltersOpen">
            <DrawerTrigger>
                <Button Variant="Button.ButtonVariant.Outline">
                    <Blazicon Svg="Lucide.Settings" class="h-4 w-4" /> Filters
                </Button>
            </DrawerTrigger>
            <DrawerContent>
                <DrawerHeader>
                    <DrawerTitle>Filter Results</DrawerTitle>
                    <DrawerDescription>Narrow down your search with these options.</DrawerDescription>
                </DrawerHeader>
                <div class="p-4 space-y-4">
                    <div class="space-y-2">
                        <label class="text-sm font-medium text-foreground">Category</label>
                        <Select @bind-Value="_filterCategory">
                            <SelectTrigger>
                                <span class="@(_filterCategory == null ? "text-muted-foreground" : "")">@(_filterCategory ?? "All categories")</span>
                            </SelectTrigger>
                            <SelectContent>
                                <SelectItem Value="electronics">Electronics</SelectItem>
                                <SelectItem Value="clothing">Clothing</SelectItem>
                                <SelectItem Value="books">Books</SelectItem>
                                <SelectItem Value="home">Home & Garden</SelectItem>
                            </SelectContent>
                        </Select>
                    </div>
                    <div class="space-y-2">
                        <label class="text-sm font-medium text-foreground">Sort by</label>
                        <RadioGroup @bind-Value="_filterSort">
                            <div class="flex items-center gap-2">
                                <RadioGroupItem Value="popular" />
                                <Label>Most popular</Label>
                            </div>
                            <div class="flex items-center gap-2">
                                <RadioGroupItem Value="newest" />
                                <Label>Newest first</Label>
                            </div>
                            <div class="flex items-center gap-2">
                                <RadioGroupItem Value="price-asc" />
                                <Label>Price: low to high</Label>
                            </div>
                        </RadioGroup>
                    </div>
                </div>
                <DrawerFooter>
                    <DrawerClose>
                        <Button Class="w-full">Apply Filters</Button>
                    </DrawerClose>
                    <DrawerClose>
                        <Button Variant="Button.ButtonVariant.Outline" Class="w-full">Reset</Button>
                    </DrawerClose>
                </DrawerFooter>
            </DrawerContent>
        </Drawer>
    </ComponentDemo>

    <ComponentDemo Title="Simple Drawer" Code="@_simpleCode">
        <Drawer @bind-IsOpen="_isSimpleOpen">
            <DrawerTrigger>
                <Button>View Details</Button>
            </DrawerTrigger>
            <DrawerContent>
                <DrawerHeader>
                    <DrawerTitle>Order Details</DrawerTitle>
                    <DrawerDescription>Review your recent order information.</DrawerDescription>
                </DrawerHeader>
                <div class="p-4 space-y-2">
                    <div class="flex justify-between text-sm">
                        <span class="text-muted-foreground">Order ID</span>
                        <span class="font-medium">#12345</span>
                    </div>
                    <div class="flex justify-between text-sm">
                        <span class="text-muted-foreground">Status</span>
                        <span class="font-medium">Shipped</span>
                    </div>
                    <div class="flex justify-between text-sm">
                        <span class="text-muted-foreground">Total</span>
                        <span class="font-medium">$49.99</span>
                    </div>
                </div>
                <DrawerFooter>
                    <DrawerClose>
                        <Button Class="w-full">Close</Button>
                    </DrawerClose>
                </DrawerFooter>
            </DrawerContent>
        </Drawer>
    </ComponentDemo>
</div>

@code {
    private bool _isOpen;
    private bool _isSimpleOpen;
    private bool _isFiltersOpen;
    private string? _filterCategory;
    private string? _filterSort = "popular";
    private int _goal = 350;

    private void Increase() => _goal = Math.Min(1000, _goal + 10);
    private void Decrease() => _goal = Math.Max(100, _goal - 10);

    private string _defaultCode = @"<Drawer @bind-IsOpen=""_isOpen"">
    <DrawerTrigger>
        <Button Variant=""Button.ButtonVariant.Outline"">Open Drawer</Button>
    </DrawerTrigger>
    <DrawerContent>
        <DrawerHeader>
            <DrawerTitle>Move Goal</DrawerTitle>
            <DrawerDescription>Set your daily activity goal.</DrawerDescription>
        </DrawerHeader>
        <div class=""p-4"">
            <div class=""text-center"">
                <div class=""text-5xl font-bold"">@_goal</div>
                <div class=""text-sm text-muted-foreground"">calories/day</div>
            </div>
        </div>
        <DrawerFooter>
            <DrawerClose>
                <Button Class=""w-full"">Submit</Button>
            </DrawerClose>
            <DrawerClose>
                <Button Variant=""Button.ButtonVariant.Outline"" Class=""w-full"">Cancel</Button>
            </DrawerClose>
        </DrawerFooter>
    </DrawerContent>
</Drawer>

@code {
    private bool _isOpen;
    private int _goal = 350;
}";

    private string _filtersCode = @"<Drawer @bind-IsOpen=""_isFiltersOpen"">
    <DrawerTrigger>
        <Button Variant=""Button.ButtonVariant.Outline"">
            <Blazicon Svg=""Lucide.Settings"" class=""h-4 w-4"" /> Filters
        </Button>
    </DrawerTrigger>
    <DrawerContent>
        <DrawerHeader>
            <DrawerTitle>Filter Results</DrawerTitle>
            <DrawerDescription>Narrow down your search.</DrawerDescription>
        </DrawerHeader>
        <div class=""p-4 space-y-4"">
            <Select @bind-Value=""_filterCategory"">
                <SelectTrigger><span>@(_filterCategory ?? ""All categories"")</span></SelectTrigger>
                <SelectContent>
                    <SelectItem Value=""electronics"">Electronics</SelectItem>
                    <SelectItem Value=""clothing"">Clothing</SelectItem>
                </SelectContent>
            </Select>
        </div>
        <DrawerFooter>
            <DrawerClose><Button Class=""w-full"">Apply Filters</Button></DrawerClose>
        </DrawerFooter>
    </DrawerContent>
</Drawer>";

    private string _simpleCode = @"<Drawer @bind-IsOpen=""_isOpen"">
    <DrawerTrigger>
        <Button>View Details</Button>
    </DrawerTrigger>
    <DrawerContent>
        <DrawerHeader>
            <DrawerTitle>Order Details</DrawerTitle>
            <DrawerDescription>Review your recent order information.</DrawerDescription>
        </DrawerHeader>
        <div class=""p-4 space-y-2"">
            <div class=""flex justify-between text-sm"">
                <span class=""text-muted-foreground"">Order ID</span>
                <span class=""font-medium"">#12345</span>
            </div>
        </div>
        <DrawerFooter>
            <DrawerClose>
                <Button Class=""w-full"">Close</Button>
            </DrawerClose>
        </DrawerFooter>
    </DrawerContent>
</Drawer>

@code {
    private bool _isOpen;
}";
}
