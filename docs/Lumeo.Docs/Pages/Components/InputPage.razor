@page "/components/input"

<PageTitle>Input — Lumeo</PageTitle>

<PageHeader Title="Input" Description="Displays a form input field." />

<div class="space-y-8">
    <ComponentDemo Title="Default" Code="@_defaultCode">
        <div class="w-full max-w-sm">
            <Input placeholder="Email" />
        </div>
    </ComponentDemo>

    <ComponentDemo Title="With Binding" Code="@_bindingCode">
        <div class="w-full max-w-sm space-y-2">
            <Input Value="@_name" OnInput="@(e => _name = e.Value?.ToString() ?? "")" placeholder="Enter your name" />
            <p class="text-sm text-muted-foreground">Value: @_name</p>
        </div>
    </ComponentDemo>

    <ComponentDemo Title="File Input" Code="@_fileCode">
        <div class="w-full max-w-sm">
            <Input type="file" />
        </div>
    </ComponentDemo>

    <ComponentDemo Title="Disabled" Code="@_disabledCode">
        <div class="w-full max-w-sm">
            <Input placeholder="Disabled input" disabled />
        </div>
    </ComponentDemo>

    <ComponentDemo Title="With Label" Code="@_labelCode">
        <div class="w-full max-w-sm space-y-4">
            <div class="space-y-2">
                <label class="text-sm font-medium leading-none">Email</label>
                <Input type="email" placeholder="name@example.com" />
            </div>
            <div class="space-y-2">
                <label class="text-sm font-medium leading-none">Password</label>
                <Input type="password" placeholder="Enter password" />
            </div>
        </div>
    </ComponentDemo>

    <ComponentDemo Title="With Label and Help Text" Code="@_helpTextCode">
        <div class="w-full max-w-sm space-y-4">
            <div class="space-y-1.5">
                <label class="text-sm font-medium leading-none" for="username-input">Username</label>
                <Input id="username-input" placeholder="johndoe" />
                <p class="text-xs text-muted-foreground">This will be your public display name.</p>
            </div>
            <div class="space-y-1.5">
                <label class="text-sm font-medium leading-none" for="promo-input">Promo Code</label>
                <Input id="promo-input" placeholder="SAVE20" Class="uppercase" />
                <p class="text-xs text-muted-foreground">Enter a valid promo code to receive a discount.</p>
            </div>
        </div>
    </ComponentDemo>

    <ComponentDemo Title="Input with Icon" Code="@_iconInputCode">
        <div class="w-full max-w-sm space-y-3">
            <div class="relative">
                <DynamicIcon Name="Search" Class="absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground pointer-events-none" />
                <Input Class="pl-9" placeholder="Search..." />
            </div>
            <div class="relative">
                <DynamicIcon Name="Mail" Class="absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground pointer-events-none" />
                <Input type="email" Class="pl-9" placeholder="name@example.com" />
            </div>
        </div>
    </ComponentDemo>

    <ComponentDemo Title="Input with Button" Code="@_inputButtonCode">
        <div class="w-full max-w-sm space-y-3">
            <div class="flex gap-2">
                <Input placeholder="Subscribe to newsletter..." Class="flex-1" />
                <Button>Subscribe</Button>
            </div>
            <div class="flex gap-2">
                <Input placeholder="Invite by email..." Class="flex-1" />
                <Button Variant="Button.ButtonVariant.Outline">
                    <DynamicIcon Name="Plus" Class="h-4 w-4" />
                    Invite
                </Button>
            </div>
        </div>
    </ComponentDemo>
</div>

<!-- API Reference -->
<div class="mt-12 space-y-6">
    <h2 class="text-2xl font-bold text-foreground">API Reference</h2>

    <div class="space-y-8">
        <div>
            <h3 class="text-lg font-semibold text-foreground mb-3">Input</h3>
            <div class="rounded-lg border border-border overflow-hidden">
                <table class="w-full text-sm">
                    <thead>
                        <tr class="border-b bg-muted/40">
                            <th class="text-left p-3 font-medium text-foreground">Property</th>
                            <th class="text-left p-3 font-medium text-foreground">Type</th>
                            <th class="text-left p-3 font-medium text-foreground">Default</th>
                            <th class="text-left p-3 font-medium text-foreground">Description</th>
                        </tr>
                    </thead>
                    <tbody class="divide-y divide-border/40">
                        <tr>
                            <td class="p-3 font-mono text-xs text-primary">Value</td>
                            <td class="p-3 font-mono text-xs text-muted-foreground">string?</td>
                            <td class="p-3 font-mono text-xs text-muted-foreground">null</td>
                            <td class="p-3 text-muted-foreground">The current value of the input field.</td>
                        </tr>
                        <tr>
                            <td class="p-3 font-mono text-xs text-primary">OnInput</td>
                            <td class="p-3 font-mono text-xs text-muted-foreground">EventCallback&lt;ChangeEventArgs&gt;</td>
                            <td class="p-3 font-mono text-xs text-muted-foreground">—</td>
                            <td class="p-3 text-muted-foreground">Callback invoked on every keystroke as the value changes.</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>

@code {
    private string _name = "";

    private string _defaultCode = @"<Input placeholder=""Email"" />";

    private string _bindingCode = @"<Input Value=""@_name"" OnInput=""@(e => _name = e.Value?.ToString() ?? """")"" placeholder=""Enter your name"" />
<p>Value: @_name</p>

@code {
    private string _name = """";
}";

    private string _fileCode = @"<Input type=""file"" />";

    private string _disabledCode = @"<Input placeholder=""Disabled input"" disabled />";

    private string _labelCode = @"<div class=""space-y-2"">
    <label class=""text-sm font-medium leading-none"">Email</label>
    <Input type=""email"" placeholder=""name@example.com"" />
</div>
<div class=""space-y-2"">
    <label class=""text-sm font-medium leading-none"">Password</label>
    <Input type=""password"" placeholder=""Enter password"" />
</div>";

    private string _helpTextCode = @"<div class=""space-y-1.5"">
    <label class=""text-sm font-medium leading-none"">Username</label>
    <Input placeholder=""johndoe"" />
    <p class=""text-xs text-muted-foreground"">This will be your public display name.</p>
</div>";

    private string _iconInputCode = @"<div class=""relative"">
    <Blazicon Svg=""Lucide.Search"" class=""absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"" />
    <Input Class=""pl-9"" placeholder=""Search..."" />
</div>
<div class=""relative"">
    <Blazicon Svg=""Lucide.Mail"" class=""absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"" />
    <Input type=""email"" Class=""pl-9"" placeholder=""name@example.com"" />
</div>";

    private string _inputButtonCode = @"<div class=""flex gap-2"">
    <Input placeholder=""Subscribe to newsletter..."" Class=""flex-1"" />
    <Button>Subscribe</Button>
</div>
<div class=""flex gap-2"">
    <Input placeholder=""Invite by email..."" Class=""flex-1"" />
    <Button Variant=""Button.ButtonVariant.Outline"">
        <Blazicon Svg=""Lucide.Plus"" class=""h-4 w-4"" /> Invite
    </Button>
</div>";
}
