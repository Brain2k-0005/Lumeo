@namespace Lumeo

<div role="tooltip" class="@CssClass" @attributes="AdditionalAttributes">
    @ChildContent
</div>

@code {
    [Parameter] public RenderFragment? ChildContent { get; set; }
    [Parameter] public TooltipSide Side { get; set; } = TooltipSide.Top;
    [Parameter] public string? Class { get; set; }
    [Parameter(CaptureUnmatchedValues = true)] public Dictionary<string, object>? AdditionalAttributes { get; set; }

    private string CssClass => $"invisible group-hover:visible absolute z-50 overflow-hidden rounded-md bg-primary px-3 py-1.5 text-xs text-primary-foreground opacity-0 group-hover:opacity-100 transition-opacity {SideClasses} {Class}".Trim();

    private string SideClasses => Side switch
    {
        TooltipSide.Top => "bottom-full left-1/2 -translate-x-1/2 mb-2",
        TooltipSide.Bottom => "top-full left-1/2 -translate-x-1/2 mt-2",
        TooltipSide.Left => "right-full top-1/2 -translate-y-1/2 mr-2",
        TooltipSide.Right => "left-full top-1/2 -translate-y-1/2 ml-2",
        _ => "bottom-full left-1/2 -translate-x-1/2 mb-2"
    };

    public enum TooltipSide { Top, Bottom, Left, Right }
}
