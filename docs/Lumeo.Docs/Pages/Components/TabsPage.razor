@page "/components/tabs"

<PageTitle>Tabs — Lumeo</PageTitle>

<PageHeader Title="Tabs" Description="A set of layered sections of content, known as tab panels, that are displayed one at a time." />

<div class="space-y-8">
    <ComponentDemo Title="Default" Code="@_defaultCode">
        <div class="w-full max-w-md">
            <Tabs ActiveValue="account">
                <TabsList>
                    <TabsTrigger Value="account">Account</TabsTrigger>
                    <TabsTrigger Value="password">Password</TabsTrigger>
                </TabsList>
                <TabsContent Value="account">
                    <Card>
                        <CardHeader>
                            <h3 class="text-lg font-semibold leading-none tracking-tight">Account</h3>
                            <p class="text-sm text-muted-foreground">Make changes to your account here. Click save when you're done.</p>
                        </CardHeader>
                        <CardContent>
                            <div class="space-y-4">
                                <div class="space-y-2">
                                    <label class="text-sm font-medium leading-none">Name</label>
                                    <Input Value="Pedro Duarte" />
                                </div>
                                <div class="space-y-2">
                                    <label class="text-sm font-medium leading-none">Username</label>
                                    <Input Value="@("@peduarte")" />
                                </div>
                            </div>
                        </CardContent>
                        <CardFooter>
                            <Button>Save changes</Button>
                        </CardFooter>
                    </Card>
                </TabsContent>
                <TabsContent Value="password">
                    <Card>
                        <CardHeader>
                            <h3 class="text-lg font-semibold leading-none tracking-tight">Password</h3>
                            <p class="text-sm text-muted-foreground">Change your password here. After saving, you'll be logged out.</p>
                        </CardHeader>
                        <CardContent>
                            <div class="space-y-4">
                                <div class="space-y-2">
                                    <label class="text-sm font-medium leading-none">Current password</label>
                                    <Input type="password" />
                                </div>
                                <div class="space-y-2">
                                    <label class="text-sm font-medium leading-none">New password</label>
                                    <Input type="password" />
                                </div>
                            </div>
                        </CardContent>
                        <CardFooter>
                            <Button>Save password</Button>
                        </CardFooter>
                    </Card>
                </TabsContent>
            </Tabs>
        </div>
    </ComponentDemo>

    <ComponentDemo Title="Notifications" Code="@_notifCode">
        <div class="w-full max-w-md">
            <Tabs ActiveValue="all">
                <TabsList>
                    <TabsTrigger Value="all">All</TabsTrigger>
                    <TabsTrigger Value="unread">Unread</TabsTrigger>
                    <TabsTrigger Value="archived">Archived</TabsTrigger>
                </TabsList>
                <TabsContent Value="all">
                    <div class="space-y-2 pt-2">
                        @foreach (var n in _notifications)
                        {
                            <div class="flex items-start gap-3 p-3 rounded-lg border bg-card">
                                <span class="@($"mt-1.5 h-2 w-2 rounded-full shrink-0 {(n.Unread ? "bg-primary" : "bg-muted")}")"></span>
                                <div>
                                    <p class="text-sm font-medium text-foreground">@n.Title</p>
                                    <p class="text-xs text-muted-foreground">@n.Time</p>
                                </div>
                            </div>
                        }
                    </div>
                </TabsContent>
                <TabsContent Value="unread">
                    <div class="space-y-2 pt-2">
                        @foreach (var n in _notifications.Where(x => x.Unread))
                        {
                            <div class="flex items-start gap-3 p-3 rounded-lg border bg-card">
                                <span class="mt-1.5 h-2 w-2 rounded-full shrink-0 bg-primary"></span>
                                <div>
                                    <p class="text-sm font-medium text-foreground">@n.Title</p>
                                    <p class="text-xs text-muted-foreground">@n.Time</p>
                                </div>
                            </div>
                        }
                    </div>
                </TabsContent>
                <TabsContent Value="archived">
                    <p class="text-sm text-muted-foreground p-4 text-center">No archived notifications.</p>
                </TabsContent>
            </Tabs>
        </div>
    </ComponentDemo>

    <ComponentDemo Title="Simple" Code="@_simpleCode">
        <div class="w-full max-w-md">
            <Tabs ActiveValue="overview">
                <TabsList>
                    <TabsTrigger Value="overview">Overview</TabsTrigger>
                    <TabsTrigger Value="analytics">Analytics</TabsTrigger>
                    <TabsTrigger Value="reports">Reports</TabsTrigger>
                </TabsList>
                <TabsContent Value="overview">
                    <p class="text-sm text-muted-foreground p-4">Overview content goes here. View a summary of your data.</p>
                </TabsContent>
                <TabsContent Value="analytics">
                    <p class="text-sm text-muted-foreground p-4">Analytics content goes here. Dive deeper into the numbers.</p>
                </TabsContent>
                <TabsContent Value="reports">
                    <p class="text-sm text-muted-foreground p-4">Reports content goes here. Download and share your reports.</p>
                </TabsContent>
            </Tabs>
        </div>
    </ComponentDemo>
</div>

<!-- API Reference -->
<div class="mt-12 space-y-6">
    <h2 class="text-2xl font-bold text-foreground">API Reference</h2>

    <div class="space-y-8">
        <div>
            <h3 class="text-lg font-semibold text-foreground mb-3">Tabs</h3>
            <div class="rounded-lg border border-border overflow-hidden">
                <table class="w-full text-sm">
                    <thead>
                        <tr class="border-b bg-muted/40">
                            <th class="text-left p-3 font-medium text-foreground">Property</th>
                            <th class="text-left p-3 font-medium text-foreground">Type</th>
                            <th class="text-left p-3 font-medium text-foreground">Default</th>
                            <th class="text-left p-3 font-medium text-foreground">Description</th>
                        </tr>
                    </thead>
                    <tbody class="divide-y divide-border/40">
                        <tr>
                            <td class="p-3 font-mono text-xs text-primary">ActiveValue</td>
                            <td class="p-3 font-mono text-xs text-muted-foreground">string</td>
                            <td class="p-3 font-mono text-xs text-muted-foreground">""</td>
                            <td class="p-3 text-muted-foreground">The value of the currently active tab. Use with @@bind-ActiveValue for two-way binding.</td>
                        </tr>
                        <tr>
                            <td class="p-3 font-mono text-xs text-primary">ActiveValueChanged</td>
                            <td class="p-3 font-mono text-xs text-muted-foreground">EventCallback&lt;string&gt;</td>
                            <td class="p-3 font-mono text-xs text-muted-foreground">—</td>
                            <td class="p-3 text-muted-foreground">Callback invoked when the active tab changes.</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <div>
            <h3 class="text-lg font-semibold text-foreground mb-3">TabsTrigger</h3>
            <div class="rounded-lg border border-border overflow-hidden">
                <table class="w-full text-sm">
                    <thead>
                        <tr class="border-b bg-muted/40">
                            <th class="text-left p-3 font-medium text-foreground">Property</th>
                            <th class="text-left p-3 font-medium text-foreground">Type</th>
                            <th class="text-left p-3 font-medium text-foreground">Default</th>
                            <th class="text-left p-3 font-medium text-foreground">Description</th>
                        </tr>
                    </thead>
                    <tbody class="divide-y divide-border/40">
                        <tr>
                            <td class="p-3 font-mono text-xs text-primary">Value</td>
                            <td class="p-3 font-mono text-xs text-muted-foreground">string</td>
                            <td class="p-3 font-mono text-xs text-muted-foreground">""</td>
                            <td class="p-3 text-muted-foreground">The value this tab trigger activates. Must match the Value of the corresponding TabsContent. Required.</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <div>
            <h3 class="text-lg font-semibold text-foreground mb-3">TabsContent</h3>
            <div class="rounded-lg border border-border overflow-hidden">
                <table class="w-full text-sm">
                    <thead>
                        <tr class="border-b bg-muted/40">
                            <th class="text-left p-3 font-medium text-foreground">Property</th>
                            <th class="text-left p-3 font-medium text-foreground">Type</th>
                            <th class="text-left p-3 font-medium text-foreground">Default</th>
                            <th class="text-left p-3 font-medium text-foreground">Description</th>
                        </tr>
                    </thead>
                    <tbody class="divide-y divide-border/40">
                        <tr>
                            <td class="p-3 font-mono text-xs text-primary">Value</td>
                            <td class="p-3 font-mono text-xs text-muted-foreground">string</td>
                            <td class="p-3 font-mono text-xs text-muted-foreground">""</td>
                            <td class="p-3 text-muted-foreground">The value of this tab panel. Renders only when it matches the parent Tabs ActiveValue. Required.</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <div>
            <h3 class="text-lg font-semibold text-foreground mb-3">TabsList</h3>
            <div class="rounded-lg border border-border overflow-hidden">
                <table class="w-full text-sm">
                    <thead>
                        <tr class="border-b bg-muted/40">
                            <th class="text-left p-3 font-medium text-foreground">Property</th>
                            <th class="text-left p-3 font-medium text-foreground">Type</th>
                            <th class="text-left p-3 font-medium text-foreground">Default</th>
                            <th class="text-left p-3 font-medium text-foreground">Description</th>
                        </tr>
                    </thead>
                    <tbody class="divide-y divide-border/40">
                        <tr>
                            <td class="p-3 font-mono text-xs text-primary italic text-muted-foreground" colspan="4">Container for tab triggers with tablist role. Accepts Class and AdditionalAttributes.</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>

@code {
    private record NotifItem(string Title, string Time, bool Unread);
    private List<NotifItem> _notifications = new()
    {
        new("Your call has been confirmed.", "2 min ago", true),
        new("You have a new message!", "1 hour ago", true),
        new("Subscription expiring soon.", "3 hours ago", false),
        new("Report ready to download.", "2 days ago", false),
    };

    private string _notifCode = @"<Tabs ActiveValue=""all"">
    <TabsList>
        <TabsTrigger Value=""all"">All</TabsTrigger>
        <TabsTrigger Value=""unread"">Unread</TabsTrigger>
        <TabsTrigger Value=""archived"">Archived</TabsTrigger>
    </TabsList>
    <TabsContent Value=""all"">
        @foreach (var n in _notifications)
        {
            <div class=""flex items-start gap-3 p-3 rounded-lg border"">
                <span class=""mt-1.5 h-2 w-2 rounded-full @(n.Unread ? ""bg-primary"" : ""bg-muted"")""></span>
                <div>
                    <p class=""text-sm font-medium"">@n.Title</p>
                    <p class=""text-xs text-muted-foreground"">@n.Time</p>
                </div>
            </div>
        }
    </TabsContent>
    <TabsContent Value=""unread"">
        @foreach (var n in _notifications.Where(x => x.Unread)) { /* same */ }
    </TabsContent>
    <TabsContent Value=""archived"">
        <p class=""text-sm text-muted-foreground p-4 text-center"">No archived notifications.</p>
    </TabsContent>
</Tabs>";

    private string _defaultCode = @"<Tabs ActiveValue=""account"">
    <TabsList>
        <TabsTrigger Value=""account"">Account</TabsTrigger>
        <TabsTrigger Value=""password"">Password</TabsTrigger>
    </TabsList>
    <TabsContent Value=""account"">
        <Card>
            <CardHeader>
                <h3 class=""text-lg font-semibold leading-none tracking-tight"">Account</h3>
                <p class=""text-sm text-muted-foreground"">Make changes to your account here.</p>
            </CardHeader>
            <CardContent>
                <div class=""space-y-4"">
                    <div class=""space-y-2"">
                        <label class=""text-sm font-medium leading-none"">Name</label>
                        <Input Value=""Pedro Duarte"" />
                    </div>
                    <div class=""space-y-2"">
                        <label class=""text-sm font-medium leading-none"">Username</label>
                        <Input Value=""@peduarte"" />
                    </div>
                </div>
            </CardContent>
            <CardFooter>
                <Button>Save changes</Button>
            </CardFooter>
        </Card>
    </TabsContent>
    <TabsContent Value=""password"">
        <Card>
            <CardHeader>
                <h3 class=""text-lg font-semibold leading-none tracking-tight"">Password</h3>
                <p class=""text-sm text-muted-foreground"">Change your password here.</p>
            </CardHeader>
            <CardContent>
                <div class=""space-y-4"">
                    <div class=""space-y-2"">
                        <label class=""text-sm font-medium leading-none"">Current password</label>
                        <Input type=""password"" />
                    </div>
                    <div class=""space-y-2"">
                        <label class=""text-sm font-medium leading-none"">New password</label>
                        <Input type=""password"" />
                    </div>
                </div>
            </CardContent>
            <CardFooter>
                <Button>Save password</Button>
            </CardFooter>
        </Card>
    </TabsContent>
</Tabs>";

    private string _simpleCode = @"<Tabs ActiveValue=""overview"">
    <TabsList>
        <TabsTrigger Value=""overview"">Overview</TabsTrigger>
        <TabsTrigger Value=""analytics"">Analytics</TabsTrigger>
        <TabsTrigger Value=""reports"">Reports</TabsTrigger>
    </TabsList>
    <TabsContent Value=""overview"">
        <p class=""text-sm text-muted-foreground p-4"">Overview content goes here.</p>
    </TabsContent>
    <TabsContent Value=""analytics"">
        <p class=""text-sm text-muted-foreground p-4"">Analytics content goes here.</p>
    </TabsContent>
    <TabsContent Value=""reports"">
        <p class=""text-sm text-muted-foreground p-4"">Reports content goes here.</p>
    </TabsContent>
</Tabs>";
}
