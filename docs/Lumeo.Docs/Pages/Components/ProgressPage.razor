@page "/components/progress"

<PageTitle>Progress â€” Lumeo</PageTitle>

<PageHeader Title="Progress" Description="Displays a progress bar indicating completion status." />

<div class="space-y-8">
    <ComponentDemo Title="Default" Code="@_defaultCode">
        <div class="w-full max-w-md space-y-4">
            <div class="space-y-2">
                <div class="flex justify-between text-sm text-muted-foreground">
                    <span>25%</span>
                </div>
                <Progress Value="25" />
            </div>
            <div class="space-y-2">
                <div class="flex justify-between text-sm text-muted-foreground">
                    <span>50%</span>
                </div>
                <Progress Value="50" />
            </div>
            <div class="space-y-2">
                <div class="flex justify-between text-sm text-muted-foreground">
                    <span>75%</span>
                </div>
                <Progress Value="75" />
            </div>
        </div>
    </ComponentDemo>

    <ComponentDemo Title="Variants" Code="@_variantCode">
        <div class="w-full max-w-md space-y-4">
            <div class="space-y-1">
                <span class="text-sm text-muted-foreground">Default</span>
                <Progress Value="60" />
            </div>
            <div class="space-y-1">
                <span class="text-sm text-muted-foreground">Success</span>
                <Progress Value="100" Variant="Progress.ProgressVariant.Success" />
            </div>
            <div class="space-y-1">
                <span class="text-sm text-muted-foreground">Warning</span>
                <Progress Value="45" Variant="Progress.ProgressVariant.Warning" />
            </div>
            <div class="space-y-1">
                <span class="text-sm text-muted-foreground">Destructive</span>
                <Progress Value="80" Variant="Progress.ProgressVariant.Destructive" />
            </div>
        </div>
    </ComponentDemo>

    <ComponentDemo Title="Interactive" Code="@_interactiveCode">
        <div class="w-full max-w-md space-y-4">
            <Progress Value="@_value" />
            <div class="flex items-center gap-2">
                <Button Size="Button.ButtonSize.Sm" Variant="Button.ButtonVariant.Outline" OnClick="Decrease">-10</Button>
                <span class="text-sm font-medium text-foreground min-w-[3ch] text-center">@_value%</span>
                <Button Size="Button.ButtonSize.Sm" Variant="Button.ButtonVariant.Outline" OnClick="Increase">+10</Button>
            </div>
        </div>
    </ComponentDemo>
</div>

<!-- API Reference -->
<div class="mt-12 space-y-6">
    <h2 class="text-2xl font-bold text-foreground">API Reference</h2>

    <div class="space-y-8">
        <div>
            <h3 class="text-lg font-semibold text-foreground mb-3">Progress</h3>
            <div class="rounded-lg border border-border overflow-hidden">
                <table class="w-full text-sm">
                    <thead>
                        <tr class="border-b bg-muted/40">
                            <th class="text-left p-3 font-medium text-foreground">Property</th>
                            <th class="text-left p-3 font-medium text-foreground">Type</th>
                            <th class="text-left p-3 font-medium text-foreground">Default</th>
                            <th class="text-left p-3 font-medium text-foreground">Description</th>
                        </tr>
                    </thead>
                    <tbody class="divide-y divide-border/40">
                        <tr>
                            <td class="p-3 font-mono text-xs text-primary">Value</td>
                            <td class="p-3 font-mono text-xs text-muted-foreground">int</td>
                            <td class="p-3 font-mono text-xs text-muted-foreground">0</td>
                            <td class="p-3 text-muted-foreground">Current progress value. Rendered as a percentage relative to Max.</td>
                        </tr>
                        <tr>
                            <td class="p-3 font-mono text-xs text-primary">Max</td>
                            <td class="p-3 font-mono text-xs text-muted-foreground">int</td>
                            <td class="p-3 font-mono text-xs text-muted-foreground">100</td>
                            <td class="p-3 text-muted-foreground">Maximum value for the progress bar. Used to calculate the fill percentage.</td>
                        </tr>
                        <tr>
                            <td class="p-3 font-mono text-xs text-primary">Variant</td>
                            <td class="p-3 font-mono text-xs text-muted-foreground">ProgressVariant</td>
                            <td class="p-3 font-mono text-xs text-muted-foreground">Default</td>
                            <td class="p-3 text-muted-foreground">Color variant of the progress indicator. Values: Default, Success, Warning, Destructive.</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>

@code {
    private int _value = 50;

    private void Increase() => _value = Math.Min(100, _value + 10);
    private void Decrease() => _value = Math.Max(0, _value - 10);

    private string _defaultCode = @"<Progress Value=""25"" />
<Progress Value=""50"" />
<Progress Value=""75"" />";

    private string _variantCode = @"<Progress Value=""60"" />
<Progress Value=""100"" Variant=""Progress.ProgressVariant.Success"" />
<Progress Value=""45"" Variant=""Progress.ProgressVariant.Warning"" />
<Progress Value=""80"" Variant=""Progress.ProgressVariant.Destructive"" />";

    private string _interactiveCode = @"<Progress Value=""@_value"" />
<Button OnClick=""Decrease"">-10</Button>
<span>@_value%</span>
<Button OnClick=""Increase"">+10</Button>

@code {
    private int _value = 50;
    private void Increase() => _value = Math.Min(100, _value + 10);
    private void Decrease() => _value = Math.Max(0, _value - 10);
}";
}
