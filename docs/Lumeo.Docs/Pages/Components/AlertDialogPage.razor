@page "/components/alert-dialog"

<PageTitle>Alert Dialog — Lumeo</PageTitle>

<PageHeader Title="Alert Dialog" Description="A modal dialog that interrupts the user with important content and expects a response." />

<div class="space-y-8">
    <ComponentDemo Title="Default" Code="@_defaultCode">
        <AlertDialog @bind-IsOpen="_isOpen">
            <AlertDialogTrigger>
                <Button Variant="Button.ButtonVariant.Outline">Delete Account</Button>
            </AlertDialogTrigger>
            <AlertDialogContent>
                <AlertDialogHeader>
                    <AlertDialogTitle>Are you absolutely sure?</AlertDialogTitle>
                    <AlertDialogDescription>
                        This action cannot be undone. This will permanently delete your account
                        and remove your data from our servers.
                    </AlertDialogDescription>
                </AlertDialogHeader>
                <AlertDialogFooter>
                    <AlertDialogCancel>Cancel</AlertDialogCancel>
                    <AlertDialogAction>Continue</AlertDialogAction>
                </AlertDialogFooter>
            </AlertDialogContent>
        </AlertDialog>
    </ComponentDemo>

    <ComponentDemo Title="With Action Handler" Code="@_actionCode">
        <div class="space-y-4">
            <AlertDialog @bind-IsOpen="_isActionOpen">
                <AlertDialogTrigger>
                    <Button Variant="Button.ButtonVariant.Destructive">Remove Item</Button>
                </AlertDialogTrigger>
                <AlertDialogContent>
                    <AlertDialogHeader>
                        <AlertDialogTitle>Remove this item?</AlertDialogTitle>
                        <AlertDialogDescription>
                            This item will be permanently removed from your collection.
                        </AlertDialogDescription>
                    </AlertDialogHeader>
                    <AlertDialogFooter>
                        <AlertDialogCancel>Keep It</AlertDialogCancel>
                        <AlertDialogAction OnAction="HandleRemove">Yes, Remove</AlertDialogAction>
                    </AlertDialogFooter>
                </AlertDialogContent>
            </AlertDialog>
            @if (_actionMessage != null)
            {
                <p class="text-sm text-muted-foreground">@_actionMessage</p>
            }
        </div>
    </ComponentDemo>

    <ComponentDemo Title="Unsaved Changes" Code="@_unsavedCode">
        <AlertDialog @bind-IsOpen="_isUnsavedOpen">
            <AlertDialogTrigger>
                <Button Variant="Button.ButtonVariant.Ghost">
                    <DynamicIcon Name="X" Class="h-4 w-4" /> Close Editor
                </Button>
            </AlertDialogTrigger>
            <AlertDialogContent>
                <AlertDialogHeader>
                    <AlertDialogTitle>Discard unsaved changes?</AlertDialogTitle>
                    <AlertDialogDescription>
                        You have unsaved changes in this document. If you close now, your changes will be lost.
                    </AlertDialogDescription>
                </AlertDialogHeader>
                <AlertDialogFooter>
                    <AlertDialogCancel>Keep Editing</AlertDialogCancel>
                    <AlertDialogAction>Discard Changes</AlertDialogAction>
                </AlertDialogFooter>
            </AlertDialogContent>
        </AlertDialog>
    </ComponentDemo>
</div>

@code {
    private bool _isOpen;
    private bool _isActionOpen;
    private bool _isUnsavedOpen;
    private string? _actionMessage;

    private void HandleRemove()
    {
        _actionMessage = "Item was removed successfully.";
    }

    private string _defaultCode = @"<AlertDialog @bind-IsOpen=""_isOpen"">
    <AlertDialogTrigger>
        <Button Variant=""Button.ButtonVariant.Outline"">Delete Account</Button>
    </AlertDialogTrigger>
    <AlertDialogContent>
        <AlertDialogHeader>
            <AlertDialogTitle>Are you absolutely sure?</AlertDialogTitle>
            <AlertDialogDescription>
                This action cannot be undone. This will permanently delete your account
                and remove your data from our servers.
            </AlertDialogDescription>
        </AlertDialogHeader>
        <AlertDialogFooter>
            <AlertDialogCancel>Cancel</AlertDialogCancel>
            <AlertDialogAction>Continue</AlertDialogAction>
        </AlertDialogFooter>
    </AlertDialogContent>
</AlertDialog>

@code {
    private bool _isOpen;
}";

    private string _unsavedCode = @"<AlertDialog @bind-IsOpen=""_isOpen"">
    <AlertDialogTrigger>
        <Button Variant=""Button.ButtonVariant.Ghost"">
            <Blazicon Svg=""Lucide.X"" class=""h-4 w-4"" /> Close Editor
        </Button>
    </AlertDialogTrigger>
    <AlertDialogContent>
        <AlertDialogHeader>
            <AlertDialogTitle>Discard unsaved changes?</AlertDialogTitle>
            <AlertDialogDescription>
                You have unsaved changes. If you close now, your changes will be lost.
            </AlertDialogDescription>
        </AlertDialogHeader>
        <AlertDialogFooter>
            <AlertDialogCancel>Keep Editing</AlertDialogCancel>
            <AlertDialogAction>Discard Changes</AlertDialogAction>
        </AlertDialogFooter>
    </AlertDialogContent>
</AlertDialog>";

    private string _actionCode = @"<AlertDialog @bind-IsOpen=""_isOpen"">
    <AlertDialogTrigger>
        <Button Variant=""Button.ButtonVariant.Destructive"">Remove Item</Button>
    </AlertDialogTrigger>
    <AlertDialogContent>
        <AlertDialogHeader>
            <AlertDialogTitle>Remove this item?</AlertDialogTitle>
            <AlertDialogDescription>
                This item will be permanently removed from your collection.
            </AlertDialogDescription>
        </AlertDialogHeader>
        <AlertDialogFooter>
            <AlertDialogCancel>Keep It</AlertDialogCancel>
            <AlertDialogAction OnAction=""HandleRemove"">Yes, Remove</AlertDialogAction>
        </AlertDialogFooter>
    </AlertDialogContent>
</AlertDialog>

@code {
    private bool _isOpen;
    private void HandleRemove() { /* handle removal */ }
}";
}
