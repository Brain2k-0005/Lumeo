@page "/components/otp-input"

<PageTitle>OTP Input â€” Lumeo</PageTitle>

<PageHeader Title="OTP Input" Description="A one-time password input with auto-focus and auto-advance between fields." />

<div class="space-y-8">
    <ComponentDemo Title="Default (6 digits)" Code="@_defaultCode">
        <div class="flex flex-col items-center gap-4">
            <OtpInput @bind-Value="_otpValue" OnComplete="HandleComplete" />
            @if (!string.IsNullOrEmpty(_otpValue))
            {
                <p class="text-sm text-muted-foreground">Value: @_otpValue</p>
            }
            @if (_completed)
            {
                <Badge Variant="Badge.BadgeVariant.Success">Code entered</Badge>
            }
        </div>
    </ComponentDemo>

    <ComponentDemo Title="4 Digit Code" Code="@_fourDigitCode">
        <div class="flex flex-col items-center gap-4">
            <OtpInput @bind-Value="_shortOtp" Length="4" />
            @if (!string.IsNullOrEmpty(_shortOtp))
            {
                <p class="text-sm text-muted-foreground">Value: @_shortOtp</p>
            }
        </div>
    </ComponentDemo>
</div>

@code {
    private string _otpValue = "";
    private string _shortOtp = "";
    private bool _completed;

    private void HandleComplete(string code)
    {
        _completed = true;
    }

    private string _defaultCode = @"<OtpInput @bind-Value=""_otpValue"" OnComplete=""HandleComplete"" />";

    private string _fourDigitCode = @"<OtpInput @bind-Value=""_otp"" Length=""4"" />";
}
