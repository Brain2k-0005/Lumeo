@page "/components/pagination"

<PageTitle>Pagination â€” Lumeo</PageTitle>

<PageHeader Title="Pagination" Description="Navigation controls for paging through content." />

<div class="space-y-8">
    <ComponentDemo Title="Default" Code="@_defaultCode">
        <Pagination>
            <PaginationContent>
                <PaginationPrevious OnClick="@(() => GoToPage(_currentPage - 1))" Disabled="@(_currentPage <= 1)" />
                @for (int i = 1; i <= _totalPages; i++)
                {
                    var pageNum = i;
                    <PaginationItem IsActive="@(pageNum == _currentPage)" OnClick="@(() => GoToPage(pageNum))">
                        @pageNum
                    </PaginationItem>
                }
                <PaginationNext OnClick="@(() => GoToPage(_currentPage + 1))" Disabled="@(_currentPage >= _totalPages)" />
            </PaginationContent>
        </Pagination>
        <p class="text-sm text-muted-foreground text-center mt-4">Page @_currentPage of @_totalPages</p>
    </ComponentDemo>

    <ComponentDemo Title="Compact" Code="@_compactCode">
        <div class="space-y-2">
            <Pagination>
                <PaginationContent>
                    <PaginationPrevious OnClick="@(() => GoToPage3(_compactPage - 1))" Disabled="@(_compactPage <= 1)" />
                    <span class="text-sm text-muted-foreground px-3 flex items-center">@_compactPage / @_compactTotal</span>
                    <PaginationNext OnClick="@(() => GoToPage3(_compactPage + 1))" Disabled="@(_compactPage >= _compactTotal)" />
                </PaginationContent>
            </Pagination>
        </div>
    </ComponentDemo>

    <ComponentDemo Title="With Ellipsis" Code="@_ellipsisCode">
        <Pagination>
            <PaginationContent>
                <PaginationPrevious OnClick="@(() => GoToPage2(_currentPage2 - 1))" Disabled="@(_currentPage2 <= 1)" />
                <PaginationItem IsActive="@(_currentPage2 == 1)" OnClick="@(() => GoToPage2(1))">1</PaginationItem>
                <PaginationItem IsActive="@(_currentPage2 == 2)" OnClick="@(() => GoToPage2(2))">2</PaginationItem>
                <PaginationItem IsActive="@(_currentPage2 == 3)" OnClick="@(() => GoToPage2(3))">3</PaginationItem>
                <PaginationEllipsis />
                <PaginationItem IsActive="@(_currentPage2 == 8)" OnClick="@(() => GoToPage2(8))">8</PaginationItem>
                <PaginationItem IsActive="@(_currentPage2 == 9)" OnClick="@(() => GoToPage2(9))">9</PaginationItem>
                <PaginationItem IsActive="@(_currentPage2 == 10)" OnClick="@(() => GoToPage2(10))">10</PaginationItem>
                <PaginationNext OnClick="@(() => GoToPage2(_currentPage2 + 1))" Disabled="@(_currentPage2 >= 10)" />
            </PaginationContent>
        </Pagination>
    </ComponentDemo>
</div>

@code {
    private int _currentPage = 1;
    private int _totalPages = 5;
    private int _currentPage2 = 3;
    private int _compactPage = 1;
    private int _compactTotal = 20;

    private void GoToPage(int page)
    {
        if (page >= 1 && page <= _totalPages)
            _currentPage = page;
    }

    private void GoToPage2(int page)
    {
        if (page >= 1 && page <= 10)
            _currentPage2 = page;
    }

    private void GoToPage3(int page)
    {
        if (page >= 1 && page <= _compactTotal)
            _compactPage = page;
    }

    private string _defaultCode = @"<Pagination>
    <PaginationContent>
        <PaginationPrevious OnClick=""@(() => GoToPage(_currentPage - 1))""
                           Disabled=""@(_currentPage <= 1)"" />
        @for (int i = 1; i <= _totalPages; i++)
        {
            var page = i;
            <PaginationItem IsActive=""@(page == _currentPage)""
                           OnClick=""@(() => GoToPage(page))"">
                @page
            </PaginationItem>
        }
        <PaginationNext OnClick=""@(() => GoToPage(_currentPage + 1))""
                       Disabled=""@(_currentPage >= _totalPages)"" />
    </PaginationContent>
</Pagination>

@code {
    private int _currentPage = 1;
    private int _totalPages = 5;

    private void GoToPage(int page)
    {
        if (page >= 1 && page <= _totalPages)
            _currentPage = page;
    }
}";

    private string _compactCode = @"<Pagination>
    <PaginationContent>
        <PaginationPrevious OnClick=""@(() => GoToPage(_currentPage - 1))"" Disabled=""@(_currentPage <= 1)"" />
        <span class=""text-sm text-muted-foreground px-3 flex items-center"">@_currentPage / @_totalPages</span>
        <PaginationNext OnClick=""@(() => GoToPage(_currentPage + 1))"" Disabled=""@(_currentPage >= _totalPages)"" />
    </PaginationContent>
</Pagination>";

    private string _ellipsisCode = @"<Pagination>
    <PaginationContent>
        <PaginationPrevious OnClick=""..."" />
        <PaginationItem IsActive=""true"">1</PaginationItem>
        <PaginationItem>2</PaginationItem>
        <PaginationItem>3</PaginationItem>
        <PaginationEllipsis />
        <PaginationItem>8</PaginationItem>
        <PaginationItem>9</PaginationItem>
        <PaginationItem>10</PaginationItem>
        <PaginationNext OnClick=""..."" />
    </PaginationContent>
</Pagination>";
}
