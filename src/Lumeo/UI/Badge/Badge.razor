@namespace Lumeo

<div class="@CssClass" @attributes="AdditionalAttributes">
    @ChildContent
</div>

@code {
    [Parameter] public RenderFragment? ChildContent { get; set; }
    [Parameter] public BadgeVariant Variant { get; set; } = BadgeVariant.Default;
    [Parameter] public string? Class { get; set; }
    [Parameter(CaptureUnmatchedValues = true)] public Dictionary<string, object>? AdditionalAttributes { get; set; }

    private string CssClass => $"{BaseClasses} {VariantClasses} {Class}".Trim();

    private const string BaseClasses = "inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2";

    private string VariantClasses => Variant switch
    {
        BadgeVariant.Default => "border-transparent bg-primary text-primary-foreground shadow",
        BadgeVariant.Secondary => "border-transparent bg-secondary text-secondary-foreground",
        BadgeVariant.Destructive => "border-transparent bg-destructive text-destructive-foreground shadow",
        BadgeVariant.Outline => "text-foreground",
        BadgeVariant.Success => "border-transparent bg-success-light text-success-text",
        BadgeVariant.Warning => "border-transparent bg-warning-light text-warning-text",
        _ => ""
    };

    public enum BadgeVariant { Default, Secondary, Destructive, Outline, Success, Warning }
}
