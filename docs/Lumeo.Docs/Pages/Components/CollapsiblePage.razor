@page "/components/collapsible"

<PageTitle>Collapsible â€” Lumeo</PageTitle>

<PageHeader Title="Collapsible" Description="An interactive component that expands and collapses content." />

<div class="space-y-8">
    <ComponentDemo Title="Default" Code="@_defaultCode">
        <div class="w-full max-w-sm">
            <Collapsible @bind-IsOpen="_isOpen1">
                <div class="flex items-center justify-between px-4">
                    <h4 class="text-sm font-semibold text-foreground">Starred Repositories</h4>
                    <CollapsibleTrigger>
                        <Button Variant="Button.ButtonVariant.Ghost" Size="Button.ButtonSize.Sm">
                            <Blazicon Svg="Lucide.ChevronDown" class="h-4 w-4" />
                        </Button>
                    </CollapsibleTrigger>
                </div>
                <div class="rounded-md border bg-card px-4 py-2 text-sm text-foreground mt-2">
                    @("@")shadcn/ui
                </div>
                <CollapsibleContent>
                    <div class="space-y-2 mt-2">
                        <div class="rounded-md border bg-card px-4 py-2 text-sm text-foreground">
                            @("@")radix-ui/primitives
                        </div>
                        <div class="rounded-md border bg-card px-4 py-2 text-sm text-foreground">
                            @("@")tailwindcss/typography
                        </div>
                    </div>
                </CollapsibleContent>
            </Collapsible>
        </div>
    </ComponentDemo>

    <ComponentDemo Title="Initially Open" Code="@_openCode">
        <div class="w-full max-w-sm">
            <Collapsible @bind-IsOpen="_isOpen2">
                <CollapsibleTrigger>
                    <div class="flex items-center gap-2 cursor-pointer">
                        <Blazicon Svg="Lucide.ChevronRight" class="@($"h-4 w-4 transition-transform {(_isOpen2 ? "rotate-90" : "")}")" />
                        <span class="text-sm font-medium text-foreground">More info</span>
                    </div>
                </CollapsibleTrigger>
                <CollapsibleContent>
                    <p class="mt-2 text-sm text-muted-foreground pl-6">
                        This section was initially expanded and can be toggled open and closed.
                    </p>
                </CollapsibleContent>
            </Collapsible>
        </div>
    </ComponentDemo>
</div>

@code {
    private bool _isOpen1;
    private bool _isOpen2 = true;

    private string _defaultCode = @"<Collapsible @bind-IsOpen=""_isOpen"">
    <div class=""flex items-center justify-between"">
        <h4 class=""text-sm font-semibold"">Starred Repositories</h4>
        <CollapsibleTrigger>
            <Button Variant=""Button.ButtonVariant.Ghost"" Size=""Button.ButtonSize.Sm"">
                <Blazicon Svg=""Lucide.ChevronDown"" class=""h-4 w-4"" />
            </Button>
        </CollapsibleTrigger>
    </div>
    <CollapsibleContent>
        <div class=""rounded-md border px-4 py-2 text-sm"">Content here</div>
    </CollapsibleContent>
</Collapsible>";

    private string _openCode = @"<Collapsible @bind-IsOpen=""_isOpen"">
    <CollapsibleTrigger>
        <span class=""text-sm font-medium"">More info</span>
    </CollapsibleTrigger>
    <CollapsibleContent>
        <p class=""mt-2 text-sm text-muted-foreground"">Expandable content.</p>
    </CollapsibleContent>
</Collapsible>";
}
