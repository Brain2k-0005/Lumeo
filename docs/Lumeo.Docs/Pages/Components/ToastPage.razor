@page "/components/toast"

@using Lumeo.Services

<PageTitle>Toast — Lumeo</PageTitle>

<PageHeader Title="Toast" Description="Displays a temporary notification popup message." />

<div class="space-y-8">
    <ComponentDemo Title="Default Toast" Code="@_defaultCode">
        <Button OnClick="ShowDefault">Show Toast</Button>
    </ComponentDemo>

    <ComponentDemo Title="Success Toast" Code="@_successCode">
        <Button Variant="Button.ButtonVariant.Outline" OnClick="ShowSuccess">Show Success</Button>
    </ComponentDemo>

    <ComponentDemo Title="Destructive Toast" Code="@_destructiveCode">
        <Button Variant="Button.ButtonVariant.Destructive" OnClick="ShowError">Show Error</Button>
    </ComponentDemo>

    <ComponentDemo Title="All Variants" Code="@_allCode">
        <div class="flex flex-wrap gap-2">
            <Button OnClick="ShowDefault">Default</Button>
            <Button Variant="Button.ButtonVariant.Secondary" OnClick="ShowSuccess">Success</Button>
            <Button Variant="Button.ButtonVariant.Destructive" OnClick="ShowError">Error</Button>
        </div>
    </ComponentDemo>

    <ComponentDemo Title="Custom Messages" Code="@_customCode">
        <div class="flex flex-wrap gap-2">
            <Button Variant="Button.ButtonVariant.Outline" OnClick="ShowSaved">
                <DynamicIcon Name="Check" Class="h-4 w-4" /> Saved
            </Button>
            <Button Variant="Button.ButtonVariant.Outline" OnClick="ShowCopied">
                <DynamicIcon Name="Copy" Class="h-4 w-4" /> Copy Link
            </Button>
            <Button Variant="Button.ButtonVariant.Outline" OnClick="ShowDeleted">
                <DynamicIcon Name="Trash" Class="h-4 w-4" /> Delete Item
            </Button>
        </div>
    </ComponentDemo>
</div>

<ToastProvider />

<!-- API Reference -->
<div class="mt-12 space-y-6">
    <h2 class="text-2xl font-bold text-foreground">API Reference</h2>

    <div class="space-y-8">
        <div>
            <h3 class="text-lg font-semibold text-foreground mb-3">Toast</h3>
            <div class="rounded-lg border border-border overflow-hidden">
                <table class="w-full text-sm">
                    <thead>
                        <tr class="border-b bg-muted/40">
                            <th class="text-left p-3 font-medium text-foreground">Property</th>
                            <th class="text-left p-3 font-medium text-foreground">Type</th>
                            <th class="text-left p-3 font-medium text-foreground">Default</th>
                            <th class="text-left p-3 font-medium text-foreground">Description</th>
                        </tr>
                    </thead>
                    <tbody class="divide-y divide-border/40">
                        <tr>
                            <td class="p-3 font-mono text-xs text-primary">Variant</td>
                            <td class="p-3 font-mono text-xs text-muted-foreground">ToastVariant</td>
                            <td class="p-3 font-mono text-xs text-muted-foreground">Default</td>
                            <td class="p-3 text-muted-foreground">Visual style of the toast. Values: Default, Success, Destructive, Warning, Info.</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <div>
            <h3 class="text-lg font-semibold text-foreground mb-3">ToastService</h3>
            <div class="rounded-lg border border-border overflow-hidden">
                <table class="w-full text-sm">
                    <thead>
                        <tr class="border-b bg-muted/40">
                            <th class="text-left p-3 font-medium text-foreground">Method</th>
                            <th class="text-left p-3 font-medium text-foreground">Signature</th>
                            <th class="text-left p-3 font-medium text-foreground">Description</th>
                        </tr>
                    </thead>
                    <tbody class="divide-y divide-border/40">
                        <tr>
                            <td class="p-3 font-mono text-xs text-primary">Show</td>
                            <td class="p-3 font-mono text-xs text-muted-foreground">Show(title, description?)</td>
                            <td class="p-3 text-muted-foreground">Shows a default toast with optional description.</td>
                        </tr>
                        <tr>
                            <td class="p-3 font-mono text-xs text-primary">Success</td>
                            <td class="p-3 font-mono text-xs text-muted-foreground">Success(title, description?)</td>
                            <td class="p-3 text-muted-foreground">Shows a success-styled toast.</td>
                        </tr>
                        <tr>
                            <td class="p-3 font-mono text-xs text-primary">Error</td>
                            <td class="p-3 font-mono text-xs text-muted-foreground">Error(title, description?)</td>
                            <td class="p-3 text-muted-foreground">Shows a destructive-styled error toast.</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>

@inject ToastService ToastService

@code {
    private void ShowDefault()
    {
        ToastService.Show("Scheduled", "Your event has been created.");
    }

    private void ShowSuccess()
    {
        ToastService.Success("Success", "Your changes have been saved.");
    }

    private void ShowError()
    {
        ToastService.Error("Error", "Something went wrong. Please try again.");
    }

    private void ShowSaved()
    {
        ToastService.Success("Changes saved", "Your profile has been updated successfully.");
    }

    private void ShowCopied()
    {
        ToastService.Show("Link copied", "The link has been copied to your clipboard.");
    }

    private void ShowDeleted()
    {
        ToastService.Error("Item deleted", "The item has been removed from your list.");
    }

    private string _defaultCode = @"@inject ToastService ToastService

<Button OnClick=""ShowDefault"">Show Toast</Button>

<ToastProvider />

@code {
    private void ShowDefault()
    {
        ToastService.Show(""Scheduled"", ""Your event has been created."");
    }
}";

    private string _successCode = @"ToastService.Success(""Success"", ""Your changes have been saved."");";

    private string _destructiveCode = @"ToastService.Error(""Error"", ""Something went wrong. Please try again."");";

    private string _allCode = @"@inject ToastService ToastService

<Button OnClick=""ShowDefault"">Default</Button>
<Button OnClick=""ShowSuccess"">Success</Button>
<Button OnClick=""ShowError"">Error</Button>

<ToastProvider />

@code {
    private void ShowDefault()
        => ToastService.Show(""Scheduled"", ""Your event has been created."");
    private void ShowSuccess()
        => ToastService.Success(""Success"", ""Your changes have been saved."");
    private void ShowError()
        => ToastService.Error(""Error"", ""Something went wrong. Please try again."");
}";

    private string _customCode = @"// Success with description
ToastService.Success(""Changes saved"", ""Your profile has been updated successfully."");

// Default info toast
ToastService.Show(""Link copied"", ""The link has been copied to your clipboard."");

// Error with description
ToastService.Error(""Item deleted"", ""The item has been removed from your list."");";
}
