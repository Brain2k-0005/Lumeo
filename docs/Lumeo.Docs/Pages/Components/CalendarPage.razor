@page "/components/calendar"

<PageTitle>Calendar — Lumeo</PageTitle>

<PageHeader Title="Calendar" Description="A date picker calendar component for selecting dates." />

<div class="space-y-8">
    <ComponentDemo Title="Default" Code="@_defaultCode">
        <div class="flex justify-center">
            <div class="rounded-md border bg-card p-1">
                <Calendar @bind-Value="_selectedDate" />
            </div>
        </div>
        @if (_selectedDate.HasValue)
        {
            <p class="text-sm text-muted-foreground text-center mt-4">Selected: @_selectedDate.Value.ToString("MMMM d, yyyy")</p>
        }
    </ComponentDemo>

    <ComponentDemo Title="Date Range Display" Code="@_rangeCode">
        <div class="w-full max-w-sm space-y-4">
            <div class="flex flex-col sm:flex-row gap-4">
                <div class="flex-1 space-y-1.5">
                    <label class="text-sm font-medium text-foreground">Check-in</label>
                    <div class="rounded-md border bg-card p-1">
                        <Calendar @bind-Value="_checkIn" />
                    </div>
                </div>
            </div>
            @if (_checkIn.HasValue)
            {
                <div class="flex items-center gap-2 p-3 rounded-md bg-muted/50 text-sm">
                    <DynamicIcon Name="Calendar" Class="h-4 w-4 text-muted-foreground" />
                    <span class="text-foreground">Check-in: <strong>@_checkIn.Value.ToString("MMM d, yyyy")</strong></span>
                </div>
            }
        </div>
    </ComponentDemo>

    <ComponentDemo Title="Pre-selected Date" Code="@_preselectedCode">
        <div class="flex justify-center">
            <div class="rounded-md border bg-card p-1">
                <Calendar @bind-Value="_preselectedDate" />
            </div>
        </div>
    </ComponentDemo>
</div>

@code {
    private DateOnly? _selectedDate;
    private DateOnly? _preselectedDate = DateOnly.FromDateTime(DateTime.Today);
    private DateOnly? _checkIn;

    private string _defaultCode = @"<Calendar @bind-Value=""_selectedDate"" />";

    private string _rangeCode = @"<div class=""space-y-1.5"">
    <label class=""text-sm font-medium"">Check-in</label>
    <div class=""rounded-md border p-1"">
        <Calendar @bind-Value=""_checkIn"" />
    </div>
</div>
@if (_checkIn.HasValue)
{
    <div class=""flex items-center gap-2 p-3 rounded-md bg-muted/50 text-sm"">
        <Blazicon Svg=""Lucide.Calendar"" class=""h-4 w-4 text-muted-foreground"" />
        <span>Check-in: <strong>@_checkIn.Value.ToString(""MMM d, yyyy"")</strong></span>
    </div>
}";

    private string _preselectedCode = @"<Calendar @bind-Value=""_date"" />

@code {
    private DateOnly? _date = DateOnly.FromDateTime(DateTime.Today);
}";
}
