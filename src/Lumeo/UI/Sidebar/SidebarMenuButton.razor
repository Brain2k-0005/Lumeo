@namespace Lumeo

<a href="@Href" class="@CssClass" title="@Tooltip" @attributes="AdditionalAttributes">
    @ChildContent
</a>

@code {
    [CascadingParameter] public SidebarProvider.SidebarState? State { get; set; }
    [Parameter] public RenderFragment? ChildContent { get; set; }
    [Parameter] public string? Href { get; set; }
    [Parameter] public string? Tooltip { get; set; }
    [Parameter] public bool IsActive { get; set; }
    [Parameter] public string? Class { get; set; }
    [Parameter(CaptureUnmatchedValues = true)] public Dictionary<string, object>? AdditionalAttributes { get; set; }

    private bool IsCollapsed => State?.IsCollapsed ?? false;

    private string CssClass => $"flex items-center rounded-lg px-3 py-2 text-muted-foreground transition-colors hover:text-foreground hover:bg-sidebar-accent {(IsCollapsed ? "justify-center" : "gap-3")} {(IsActive ? "bg-sidebar-accent text-sidebar-accent-foreground font-medium" : "")} {Class}".Trim();
}
