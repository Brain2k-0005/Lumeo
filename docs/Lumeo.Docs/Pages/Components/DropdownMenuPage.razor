@page "/components/dropdown-menu"

<PageTitle>Dropdown Menu — Lumeo</PageTitle>

<PageHeader Title="Dropdown Menu" Description="Displays a menu of actions or options triggered by a button." />

<div class="space-y-8">
    <ComponentDemo Title="Default" Code="@_defaultCode">
        <DropdownMenu>
            <DropdownMenuTrigger>
                <Button Variant="Button.ButtonVariant.Outline">
                    Open
                    <DynamicIcon Name="ChevronDown" Class="ml-2 h-4 w-4" />
                </Button>
            </DropdownMenuTrigger>
            <DropdownMenuContent>
                <DropdownMenuLabel>My Account</DropdownMenuLabel>
                <DropdownMenuSeparator />
                <DropdownMenuItem>Profile</DropdownMenuItem>
                <DropdownMenuItem>Settings</DropdownMenuItem>
                <DropdownMenuItem>Billing</DropdownMenuItem>
                <DropdownMenuSeparator />
                <DropdownMenuItem>Log out</DropdownMenuItem>
            </DropdownMenuContent>
        </DropdownMenu>
    </ComponentDemo>

    <ComponentDemo Title="With Groups" Code="@_groupCode">
        <DropdownMenu>
            <DropdownMenuTrigger>
                <Button Variant="Button.ButtonVariant.Outline">
                    Actions
                    <DynamicIcon Name="ChevronDown" Class="ml-2 h-4 w-4" />
                </Button>
            </DropdownMenuTrigger>
            <DropdownMenuContent>
                <DropdownMenuLabel>File</DropdownMenuLabel>
                <DropdownMenuGroup>
                    <DropdownMenuItem>New File</DropdownMenuItem>
                    <DropdownMenuItem>Open File</DropdownMenuItem>
                    <DropdownMenuItem>Save</DropdownMenuItem>
                </DropdownMenuGroup>
                <DropdownMenuSeparator />
                <DropdownMenuLabel>Edit</DropdownMenuLabel>
                <DropdownMenuGroup>
                    <DropdownMenuItem>Undo</DropdownMenuItem>
                    <DropdownMenuItem>Redo</DropdownMenuItem>
                </DropdownMenuGroup>
                <DropdownMenuSeparator />
                <DropdownMenuItem Disabled="true">Delete</DropdownMenuItem>
            </DropdownMenuContent>
        </DropdownMenu>
    </ComponentDemo>

    <ComponentDemo Title="Alignment" Code="@_alignCode">
        <div class="flex gap-4">
            <DropdownMenu>
                <DropdownMenuTrigger>
                    <Button Variant="Button.ButtonVariant.Outline" Size="Button.ButtonSize.Sm">Start</Button>
                </DropdownMenuTrigger>
                <DropdownMenuContent Align="DropdownMenuContent.DropdownMenuAlign.Start">
                    <DropdownMenuItem>Option 1</DropdownMenuItem>
                    <DropdownMenuItem>Option 2</DropdownMenuItem>
                    <DropdownMenuItem>Option 3</DropdownMenuItem>
                </DropdownMenuContent>
            </DropdownMenu>
            <DropdownMenu>
                <DropdownMenuTrigger>
                    <Button Variant="Button.ButtonVariant.Outline" Size="Button.ButtonSize.Sm">End</Button>
                </DropdownMenuTrigger>
                <DropdownMenuContent Align="DropdownMenuContent.DropdownMenuAlign.End">
                    <DropdownMenuItem>Option 1</DropdownMenuItem>
                    <DropdownMenuItem>Option 2</DropdownMenuItem>
                    <DropdownMenuItem>Option 3</DropdownMenuItem>
                </DropdownMenuContent>
            </DropdownMenu>
        </div>
    </ComponentDemo>
</div>

<!-- API Reference -->
<div class="mt-12 space-y-6">
    <h2 class="text-2xl font-bold text-foreground">API Reference</h2>

    <div class="space-y-8">
        <div>
            <h3 class="text-lg font-semibold text-foreground mb-3">DropdownMenu</h3>
            <div class="rounded-lg border border-border overflow-hidden">
                <table class="w-full text-sm">
                    <thead>
                        <tr class="border-b bg-muted/40">
                            <th class="text-left p-3 font-medium text-foreground">Property</th>
                            <th class="text-left p-3 font-medium text-foreground">Type</th>
                            <th class="text-left p-3 font-medium text-foreground">Default</th>
                            <th class="text-left p-3 font-medium text-foreground">Description</th>
                        </tr>
                    </thead>
                    <tbody class="divide-y divide-border/40">
                        <tr>
                            <td class="p-3 font-mono text-xs text-primary">IsOpen</td>
                            <td class="p-3 font-mono text-xs text-muted-foreground">bool</td>
                            <td class="p-3 font-mono text-xs text-muted-foreground">false</td>
                            <td class="p-3 text-muted-foreground">Controls whether the menu is open. Use with @@bind-IsOpen for two-way binding.</td>
                        </tr>
                        <tr>
                            <td class="p-3 font-mono text-xs text-primary">IsOpenChanged</td>
                            <td class="p-3 font-mono text-xs text-muted-foreground">EventCallback&lt;bool&gt;</td>
                            <td class="p-3 font-mono text-xs text-muted-foreground">—</td>
                            <td class="p-3 text-muted-foreground">Callback invoked when the open state changes.</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <div>
            <h3 class="text-lg font-semibold text-foreground mb-3">DropdownMenuItem</h3>
            <div class="rounded-lg border border-border overflow-hidden">
                <table class="w-full text-sm">
                    <thead>
                        <tr class="border-b bg-muted/40">
                            <th class="text-left p-3 font-medium text-foreground">Property</th>
                            <th class="text-left p-3 font-medium text-foreground">Type</th>
                            <th class="text-left p-3 font-medium text-foreground">Default</th>
                            <th class="text-left p-3 font-medium text-foreground">Description</th>
                        </tr>
                    </thead>
                    <tbody class="divide-y divide-border/40">
                        <tr>
                            <td class="p-3 font-mono text-xs text-primary">OnClick</td>
                            <td class="p-3 font-mono text-xs text-muted-foreground">EventCallback</td>
                            <td class="p-3 font-mono text-xs text-muted-foreground">—</td>
                            <td class="p-3 text-muted-foreground">Callback invoked when this menu item is clicked. Also automatically closes the menu.</td>
                        </tr>
                        <tr>
                            <td class="p-3 font-mono text-xs text-primary">Disabled</td>
                            <td class="p-3 font-mono text-xs text-muted-foreground">bool</td>
                            <td class="p-3 font-mono text-xs text-muted-foreground">false</td>
                            <td class="p-3 text-muted-foreground">When true, the menu item is non-interactive and shown with reduced opacity.</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <div>
            <h3 class="text-lg font-semibold text-foreground mb-3">DropdownMenuTrigger / DropdownMenuContent / DropdownMenuLabel / DropdownMenuGroup / DropdownMenuSeparator</h3>
            <div class="rounded-lg border border-border overflow-hidden">
                <table class="w-full text-sm">
                    <thead>
                        <tr class="border-b bg-muted/40">
                            <th class="text-left p-3 font-medium text-foreground">Property</th>
                            <th class="text-left p-3 font-medium text-foreground">Type</th>
                            <th class="text-left p-3 font-medium text-foreground">Default</th>
                            <th class="text-left p-3 font-medium text-foreground">Description</th>
                        </tr>
                    </thead>
                    <tbody class="divide-y divide-border/40">
                        <tr>
                            <td class="p-3 font-mono text-xs text-primary italic text-muted-foreground" colspan="4">DropdownMenuTrigger opens the menu on click. DropdownMenuContent is the panel (accepts Align: Start, Center, End). DropdownMenuLabel and DropdownMenuGroup are structural layout helpers. DropdownMenuSeparator renders a horizontal divider.</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>

@code {
    private string _defaultCode = @"<DropdownMenu>
    <DropdownMenuTrigger>
        <Button Variant=""Button.ButtonVariant.Outline"">Open</Button>
    </DropdownMenuTrigger>
    <DropdownMenuContent>
        <DropdownMenuLabel>My Account</DropdownMenuLabel>
        <DropdownMenuSeparator />
        <DropdownMenuItem>Profile</DropdownMenuItem>
        <DropdownMenuItem>Settings</DropdownMenuItem>
        <DropdownMenuItem>Billing</DropdownMenuItem>
        <DropdownMenuSeparator />
        <DropdownMenuItem>Log out</DropdownMenuItem>
    </DropdownMenuContent>
</DropdownMenu>";

    private string _groupCode = @"<DropdownMenu>
    <DropdownMenuTrigger>
        <Button Variant=""Button.ButtonVariant.Outline"">Actions</Button>
    </DropdownMenuTrigger>
    <DropdownMenuContent>
        <DropdownMenuLabel>File</DropdownMenuLabel>
        <DropdownMenuGroup>
            <DropdownMenuItem>New File</DropdownMenuItem>
            <DropdownMenuItem>Open File</DropdownMenuItem>
            <DropdownMenuItem>Save</DropdownMenuItem>
        </DropdownMenuGroup>
        <DropdownMenuSeparator />
        <DropdownMenuLabel>Edit</DropdownMenuLabel>
        <DropdownMenuGroup>
            <DropdownMenuItem>Undo</DropdownMenuItem>
            <DropdownMenuItem>Redo</DropdownMenuItem>
        </DropdownMenuGroup>
        <DropdownMenuSeparator />
        <DropdownMenuItem Disabled=""true"">Delete</DropdownMenuItem>
    </DropdownMenuContent>
</DropdownMenu>";

    private string _alignCode = @"<DropdownMenu>
    <DropdownMenuTrigger>
        <Button Variant=""Button.ButtonVariant.Outline"">Start</Button>
    </DropdownMenuTrigger>
    <DropdownMenuContent Align=""DropdownMenuContent.DropdownMenuAlign.Start"">
        <DropdownMenuItem>Option 1</DropdownMenuItem>
        <DropdownMenuItem>Option 2</DropdownMenuItem>
    </DropdownMenuContent>
</DropdownMenu>

<DropdownMenu>
    <DropdownMenuTrigger>
        <Button Variant=""Button.ButtonVariant.Outline"">End</Button>
    </DropdownMenuTrigger>
    <DropdownMenuContent Align=""DropdownMenuContent.DropdownMenuAlign.End"">
        <DropdownMenuItem>Option 1</DropdownMenuItem>
        <DropdownMenuItem>Option 2</DropdownMenuItem>
    </DropdownMenuContent>
</DropdownMenu>";
}
