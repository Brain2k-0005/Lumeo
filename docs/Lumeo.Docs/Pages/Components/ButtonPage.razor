@page "/components/button"

<PageTitle>Button — Lumeo</PageTitle>

<PageHeader Title="Button" Description="Displays a button or a component that looks like a button." />

<div class="space-y-8">
    <ComponentDemo Title="Variants" Code="@_variantCode">
        <div class="flex flex-wrap gap-2">
            <Button>Default</Button>
            <Button Variant="Button.ButtonVariant.Secondary">Secondary</Button>
            <Button Variant="Button.ButtonVariant.Destructive">Destructive</Button>
            <Button Variant="Button.ButtonVariant.Outline">Outline</Button>
            <Button Variant="Button.ButtonVariant.Ghost">Ghost</Button>
            <Button Variant="Button.ButtonVariant.Link">Link</Button>
        </div>
    </ComponentDemo>

    <ComponentDemo Title="Sizes" Code="@_sizeCode">
        <div class="flex flex-wrap items-center gap-2">
            <Button Size="Button.ButtonSize.Sm">Small</Button>
            <Button>Default</Button>
            <Button Size="Button.ButtonSize.Lg">Large</Button>
            <Button Size="Button.ButtonSize.Icon">
                <DynamicIcon Name="ChevronRight" Class="h-4 w-4" />
            </Button>
        </div>
    </ComponentDemo>

    <ComponentDemo Title="With Icon" Code="@_iconCode">
        <div class="flex flex-wrap gap-2">
            <Button>
                <DynamicIcon Name="Mail" Class="h-4 w-4" />
                Login with Email
            </Button>
            <Button Variant="Button.ButtonVariant.Secondary">
                <DynamicIcon Name="LoaderCircle" Class="h-4 w-4 animate-spin" />
                Please wait
            </Button>
        </div>
    </ComponentDemo>

    <ComponentDemo Title="Disabled" Code="@_disabledCode">
        <div class="flex flex-wrap gap-2">
            <Button disabled>Disabled</Button>
            <Button Variant="Button.ButtonVariant.Outline" disabled>Disabled</Button>
        </div>
    </ComponentDemo>

    <ComponentDemo Title="Button Group" Code="@_groupCode">
        <div class="flex">
            <Button Variant="Button.ButtonVariant.Outline" Class="rounded-r-none border-r-0">
                <DynamicIcon Name="Bold" Class="h-4 w-4" />
            </Button>
            <Button Variant="Button.ButtonVariant.Outline" Class="rounded-none border-r-0">
                <DynamicIcon Name="Italic" Class="h-4 w-4" />
            </Button>
            <Button Variant="Button.ButtonVariant.Outline" Class="rounded-l-none">
                <DynamicIcon Name="Underline" Class="h-4 w-4" />
            </Button>
        </div>
    </ComponentDemo>

    <ComponentDemo Title="Loading State" Code="@_loadingCode">
        <div class="flex flex-wrap gap-2">
            <Button Disabled="@_isLoading" OnClick="@SimulateLoad">
                @if (_isLoading)
                {
                    <DynamicIcon Name="LoaderCircle" Class="h-4 w-4 animate-spin" />
                    <span>Please wait</span>
                }
                else
                {
                    <span>Submit</span>
                }
            </Button>
            <Button Variant="Button.ButtonVariant.Outline" Disabled="@_isLoading" OnClick="@SimulateLoad">
                @if (_isLoading)
                {
                    <DynamicIcon Name="LoaderCircle" Class="h-4 w-4 animate-spin" />
                    <span>Saving...</span>
                }
                else
                {
                    <span>Save Draft</span>
                }
            </Button>
        </div>
    </ComponentDemo>
</div>

<!-- API Reference -->
<div class="mt-12 space-y-6">
    <h2 class="text-2xl font-bold text-foreground">API Reference</h2>

    <div class="space-y-8">
        <div>
            <h3 class="text-lg font-semibold text-foreground mb-3">Button</h3>
            <div class="rounded-lg border border-border overflow-hidden">
                <table class="w-full text-sm">
                    <thead>
                        <tr class="border-b bg-muted/40">
                            <th class="text-left p-3 font-medium text-foreground">Property</th>
                            <th class="text-left p-3 font-medium text-foreground">Type</th>
                            <th class="text-left p-3 font-medium text-foreground">Default</th>
                            <th class="text-left p-3 font-medium text-foreground">Description</th>
                        </tr>
                    </thead>
                    <tbody class="divide-y divide-border/40">
                        <tr>
                            <td class="p-3 font-mono text-xs text-primary">Variant</td>
                            <td class="p-3 font-mono text-xs text-muted-foreground">ButtonVariant</td>
                            <td class="p-3 font-mono text-xs text-muted-foreground">Default</td>
                            <td class="p-3 text-muted-foreground">Visual style of the button. Values: Default, Destructive, Outline, Secondary, Ghost, Link.</td>
                        </tr>
                        <tr>
                            <td class="p-3 font-mono text-xs text-primary">Size</td>
                            <td class="p-3 font-mono text-xs text-muted-foreground">ButtonSize</td>
                            <td class="p-3 font-mono text-xs text-muted-foreground">Default</td>
                            <td class="p-3 text-muted-foreground">Size of the button. Values: Default, Sm, Lg, Icon.</td>
                        </tr>
                        <tr>
                            <td class="p-3 font-mono text-xs text-primary">OnClick</td>
                            <td class="p-3 font-mono text-xs text-muted-foreground">EventCallback&lt;MouseEventArgs&gt;</td>
                            <td class="p-3 font-mono text-xs text-muted-foreground">—</td>
                            <td class="p-3 text-muted-foreground">Callback invoked when the button is clicked.</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>

@code {
    private string _variantCode = @"<Button>Default</Button>
<Button Variant=""Button.ButtonVariant.Secondary"">Secondary</Button>
<Button Variant=""Button.ButtonVariant.Destructive"">Destructive</Button>
<Button Variant=""Button.ButtonVariant.Outline"">Outline</Button>
<Button Variant=""Button.ButtonVariant.Ghost"">Ghost</Button>
<Button Variant=""Button.ButtonVariant.Link"">Link</Button>";

    private string _sizeCode = @"<Button Size=""Button.ButtonSize.Sm"">Small</Button>
<Button>Default</Button>
<Button Size=""Button.ButtonSize.Lg"">Large</Button>
<Button Size=""Button.ButtonSize.Icon"">
    <Blazicon Svg=""Lucide.ChevronRight"" class=""h-4 w-4"" />
</Button>";

    private string _iconCode = @"<Button>
    <Blazicon Svg=""Lucide.Mail"" class=""h-4 w-4"" />
    Login with Email
</Button>
<Button Variant=""Button.ButtonVariant.Secondary"">
    <Blazicon Svg=""Lucide.Loader2"" class=""h-4 w-4 animate-spin"" />
    Please wait
</Button>";

    private string _disabledCode = @"<Button disabled>Disabled</Button>
<Button Variant=""Button.ButtonVariant.Outline"" disabled>Disabled</Button>";

    private bool _isLoading = false;

    private async Task SimulateLoad()
    {
        _isLoading = true;
        await Task.Delay(2000);
        _isLoading = false;
    }

    private string _groupCode = @"<div class=""flex"">
    <Button Variant=""Button.ButtonVariant.Outline"" Class=""rounded-r-none border-r-0"">
        <Blazicon Svg=""Lucide.Bold"" class=""h-4 w-4"" />
    </Button>
    <Button Variant=""Button.ButtonVariant.Outline"" Class=""rounded-none border-r-0"">
        <Blazicon Svg=""Lucide.Italic"" class=""h-4 w-4"" />
    </Button>
    <Button Variant=""Button.ButtonVariant.Outline"" Class=""rounded-l-none"">
        <Blazicon Svg=""Lucide.Underline"" class=""h-4 w-4"" />
    </Button>
</div>";

    private string _loadingCode = @"<Button Disabled=""@_isLoading"" OnClick=""SimulateLoad"">
    @if (_isLoading)
    {
        <Blazicon Svg=""Lucide.LoaderCircle"" class=""h-4 w-4 animate-spin"" />
        <span>Please wait</span>
    }
    else { <span>Submit</span> }
</Button>

@code {
    private bool _isLoading = false;
    private async Task SimulateLoad()
    {
        _isLoading = true;
        await Task.Delay(2000);
        _isLoading = false;
    }
}";
}
