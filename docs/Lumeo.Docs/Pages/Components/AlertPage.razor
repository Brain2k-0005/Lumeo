@page "/components/alert"

<PageTitle>Alert — Lumeo</PageTitle>

<PageHeader Title="Alert" Description="Displays a callout for important messages and feedback." />

<div class="space-y-8">
    <ComponentDemo Title="Default" Code="@_defaultCode">
        <div class="w-full max-w-lg">
            <Alert>
                <h5 class="mb-1 font-medium leading-none tracking-tight">Heads up!</h5>
                <div class="text-sm [&_p]:leading-relaxed">
                    <p>You can add components to your app using the CLI.</p>
                </div>
            </Alert>
        </div>
    </ComponentDemo>

    <ComponentDemo Title="Destructive" Code="@_destructiveCode">
        <div class="w-full max-w-lg">
            <Alert Variant="Alert.AlertVariant.Destructive">
                <h5 class="mb-1 font-medium leading-none tracking-tight">Error</h5>
                <div class="text-sm [&_p]:leading-relaxed">
                    <p>Your session has expired. Please log in again.</p>
                </div>
            </Alert>
        </div>
    </ComponentDemo>

    <ComponentDemo Title="With Icon" Code="@_iconCode">
        <div class="w-full max-w-lg space-y-4">
            <Alert>
                <div class="flex gap-3">
                    <DynamicIcon Name="Info" Class="h-4 w-4 mt-0.5" />
                    <div>
                        <h5 class="mb-1 font-medium leading-none tracking-tight">Information</h5>
                        <div class="text-sm [&_p]:leading-relaxed">
                            <p>This action will update your preferences.</p>
                        </div>
                    </div>
                </div>
            </Alert>
            <Alert Variant="Alert.AlertVariant.Destructive">
                <div class="flex gap-3">
                    <DynamicIcon Name="CircleAlert" Class="h-4 w-4 mt-0.5" />
                    <div>
                        <h5 class="mb-1 font-medium leading-none tracking-tight">Something went wrong</h5>
                        <div class="text-sm [&_p]:leading-relaxed">
                            <p>Could not save your changes. Please try again.</p>
                        </div>
                    </div>
                </div>
            </Alert>
        </div>
    </ComponentDemo>

    <ComponentDemo Title="With Action" Code="@_actionCode">
        <div class="w-full max-w-lg space-y-4">
            <Alert>
                <div class="flex items-start justify-between gap-4">
                    <div class="flex gap-3">
                        <DynamicIcon Name="Bell" Class="h-4 w-4 mt-0.5 text-primary" />
                        <div>
                            <h5 class="mb-1 font-medium leading-none tracking-tight">New feature available</h5>
                            <div class="text-sm [&_p]:leading-relaxed">
                                <p>Dark mode is now available for all users. Try it out in Settings.</p>
                            </div>
                        </div>
                    </div>
                    <Button Variant="Button.ButtonVariant.Outline" Size="Button.ButtonSize.Sm" Class="shrink-0">
                        Try it
                    </Button>
                </div>
            </Alert>
            <Alert Variant="Alert.AlertVariant.Destructive">
                <div class="flex items-start justify-between gap-4">
                    <div class="flex gap-3">
                        <DynamicIcon Name="CircleAlert" Class="h-4 w-4 mt-0.5" />
                        <div>
                            <h5 class="mb-1 font-medium leading-none tracking-tight">Subscription expired</h5>
                            <div class="text-sm [&_p]:leading-relaxed">
                                <p>Your subscription has expired. Renew to continue using premium features.</p>
                            </div>
                        </div>
                    </div>
                    <Button Size="Button.ButtonSize.Sm" Class="shrink-0">Renew</Button>
                </div>
            </Alert>
        </div>
    </ComponentDemo>

    <ComponentDemo Title="Dismissible" Code="@_dismissCode">
        <div class="w-full max-w-lg space-y-4">
            @if (_showBanner)
            {
                <Alert>
                    <div class="flex items-start justify-between gap-2">
                        <div class="flex gap-3">
                            <DynamicIcon Name="Star" Class="h-4 w-4 mt-0.5 text-primary" />
                            <div>
                                <h5 class="mb-1 font-medium leading-none tracking-tight">Welcome to Lumeo!</h5>
                                <div class="text-sm [&_p]:leading-relaxed">
                                    <p>Get started by exploring the components and patterns library.</p>
                                </div>
                            </div>
                        </div>
                        <Button Variant="Button.ButtonVariant.Ghost" Size="Button.ButtonSize.Icon" Class="shrink-0 -mt-1 -mr-1"
                                OnClick="@(() => _showBanner = false)">
                            <DynamicIcon Name="X" Class="h-4 w-4" />
                        </Button>
                    </div>
                </Alert>
            }
            else
            {
                <Button Variant="Button.ButtonVariant.Outline" Size="Button.ButtonSize.Sm"
                        OnClick="@(() => _showBanner = true)">Reset</Button>
            }
        </div>
    </ComponentDemo>
</div>

<!-- API Reference -->
<div class="mt-12 space-y-6">
    <h2 class="text-2xl font-bold text-foreground">API Reference</h2>

    <div class="space-y-8">
        <div>
            <h3 class="text-lg font-semibold text-foreground mb-3">Alert</h3>
            <div class="rounded-lg border border-border overflow-hidden">
                <table class="w-full text-sm">
                    <thead>
                        <tr class="border-b bg-muted/40">
                            <th class="text-left p-3 font-medium text-foreground">Property</th>
                            <th class="text-left p-3 font-medium text-foreground">Type</th>
                            <th class="text-left p-3 font-medium text-foreground">Default</th>
                            <th class="text-left p-3 font-medium text-foreground">Description</th>
                        </tr>
                    </thead>
                    <tbody class="divide-y divide-border/40">
                        <tr>
                            <td class="p-3 font-mono text-xs text-primary">Variant</td>
                            <td class="p-3 font-mono text-xs text-muted-foreground">AlertVariant</td>
                            <td class="p-3 font-mono text-xs text-muted-foreground">Default</td>
                            <td class="p-3 text-muted-foreground">Visual style of the alert. Values: Default, Destructive.</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>

@code {
    private string _defaultCode = @"<Alert>
    <h5 class=""mb-1 font-medium leading-none tracking-tight"">Heads up!</h5>
    <div class=""text-sm [&_p]:leading-relaxed"">
        <p>You can add components to your app using the CLI.</p>
    </div>
</Alert>";

    private string _destructiveCode = @"<Alert Variant=""Alert.AlertVariant.Destructive"">
    <h5 class=""mb-1 font-medium leading-none tracking-tight"">Error</h5>
    <div class=""text-sm [&_p]:leading-relaxed"">
        <p>Your session has expired. Please log in again.</p>
    </div>
</Alert>";

    private string _iconCode = @"<Alert>
    <div class=""flex gap-3"">
        <Blazicon Svg=""Lucide.Info"" class=""h-4 w-4 mt-0.5"" />
        <div>
            <h5 class=""mb-1 font-medium leading-none tracking-tight"">Information</h5>
            <div class=""text-sm [&_p]:leading-relaxed"">
                <p>This action will update your preferences.</p>
            </div>
        </div>
    </div>
</Alert>
<Alert Variant=""Alert.AlertVariant.Destructive"">
    <div class=""flex gap-3"">
        <Blazicon Svg=""Lucide.CircleAlert"" class=""h-4 w-4 mt-0.5"" />
        <div>
            <h5 class=""mb-1 font-medium leading-none tracking-tight"">Something went wrong</h5>
            <div class=""text-sm [&_p]:leading-relaxed"">
                <p>Could not save your changes. Please try again.</p>
            </div>
        </div>
    </div>
</Alert>";

    private bool _showBanner = true;

    private string _actionCode = @"<Alert>
    <div class=""flex items-start justify-between gap-4"">
        <div class=""flex gap-3"">
            <Blazicon Svg=""Lucide.Bell"" class=""h-4 w-4 mt-0.5 text-primary"" />
            <div>
                <h5 class=""mb-1 font-medium leading-none tracking-tight"">New feature available</h5>
                <div class=""text-sm [&_p]:leading-relaxed"">
                    <p>Dark mode is now available for all users.</p>
                </div>
            </div>
        </div>
        <Button Variant=""Button.ButtonVariant.Outline"" Size=""Button.ButtonSize.Sm"">Try it</Button>
    </div>
</Alert>";

    private string _dismissCode = @"@if (_showBanner)
{
    <Alert>
        <div class=""flex items-start justify-between gap-2"">
            <div class=""flex gap-3"">
                <Blazicon Svg=""Lucide.Star"" class=""h-4 w-4 mt-0.5 text-primary"" />
                <div>
                    <h5 class=""mb-1 font-medium leading-none tracking-tight"">Welcome to Lumeo!</h5>
                    <div class=""text-sm [&_p]:leading-relaxed"">
                        <p>Get started by exploring the components library.</p>
                    </div>
                </div>
            </div>
            <Button Variant=""Button.ButtonVariant.Ghost"" Size=""Button.ButtonSize.Icon""
                    OnClick=""@(() => _showBanner = false)"">
                <Blazicon Svg=""Lucide.X"" class=""h-4 w-4"" />
            </Button>
        </div>
    </Alert>
}

@code {
    private bool _showBanner = true;
}";
}
