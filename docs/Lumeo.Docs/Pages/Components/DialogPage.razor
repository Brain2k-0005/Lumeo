@page "/components/dialog"

<PageTitle>Dialog — Lumeo</PageTitle>

<PageHeader Title="Dialog" Description="A modal dialog that overlays the main content and requires user interaction." />

<div class="space-y-8">
    <ComponentDemo Title="Default" Code="@_defaultCode">
        <Dialog @bind-IsOpen="_isOpen">
            <DialogTrigger>
                <Button Variant="Button.ButtonVariant.Outline">Edit Profile</Button>
            </DialogTrigger>
            <DialogContent>
                <DialogHeader>
                    <DialogTitle>Edit Profile</DialogTitle>
                    <DialogDescription>Make changes to your profile here. Click save when you're done.</DialogDescription>
                </DialogHeader>
                <div class="grid gap-4 py-4">
                    <div class="grid grid-cols-4 items-center gap-4">
                        <label class="text-right text-sm font-medium">Name</label>
                        <Input Class="col-span-3" Value="John Doe" />
                    </div>
                    <div class="grid grid-cols-4 items-center gap-4">
                        <label class="text-right text-sm font-medium">Username</label>
                        <Input Class="col-span-3" Value="@("@johndoe")" />
                    </div>
                </div>
                <DialogFooter>
                    <DialogClose>
                        <Button Variant="Button.ButtonVariant.Outline">Cancel</Button>
                    </DialogClose>
                    <DialogClose>
                        <Button>Save Changes</Button>
                    </DialogClose>
                </DialogFooter>
            </DialogContent>
        </Dialog>
    </ComponentDemo>

    <ComponentDemo Title="Simple Dialog" Code="@_simpleCode">
        <Dialog @bind-IsOpen="_isSimpleOpen">
            <DialogTrigger>
                <Button>Share</Button>
            </DialogTrigger>
            <DialogContent>
                <DialogHeader>
                    <DialogTitle>Share this document</DialogTitle>
                    <DialogDescription>Anyone with the link can view this document.</DialogDescription>
                </DialogHeader>
                <div class="py-4">
                    <Input Value="https://example.com/share/abc123" />
                </div>
                <DialogFooter>
                    <DialogClose>
                        <Button>Copy Link</Button>
                    </DialogClose>
                </DialogFooter>
            </DialogContent>
        </Dialog>
    </ComponentDemo>

    <ComponentDemo Title="Confirmation Dialog" Code="@_confirmCode">
        <Dialog @bind-IsOpen="_isConfirmOpen">
            <DialogTrigger>
                <Button Variant="Button.ButtonVariant.Destructive">
                    <DynamicIcon Name="Trash" Class="h-4 w-4" />
                    Delete Account
                </Button>
            </DialogTrigger>
            <DialogContent>
                <DialogHeader>
                    <DialogTitle>Are you absolutely sure?</DialogTitle>
                    <DialogDescription>
                        This action cannot be undone. This will permanently delete your account and remove your data from our servers.
                    </DialogDescription>
                </DialogHeader>
                <DialogFooter>
                    <DialogClose>
                        <Button Variant="Button.ButtonVariant.Outline">Cancel</Button>
                    </DialogClose>
                    <DialogClose>
                        <Button Variant="Button.ButtonVariant.Destructive">Yes, delete account</Button>
                    </DialogClose>
                </DialogFooter>
            </DialogContent>
        </Dialog>
    </ComponentDemo>
</div>

<!-- API Reference -->
<div class="mt-12 space-y-6">
    <h2 class="text-2xl font-bold text-foreground">API Reference</h2>

    <div class="space-y-8">
        <div>
            <h3 class="text-lg font-semibold text-foreground mb-3">Dialog</h3>
            <div class="rounded-lg border border-border overflow-hidden">
                <table class="w-full text-sm">
                    <thead>
                        <tr class="border-b bg-muted/40">
                            <th class="text-left p-3 font-medium text-foreground">Property</th>
                            <th class="text-left p-3 font-medium text-foreground">Type</th>
                            <th class="text-left p-3 font-medium text-foreground">Default</th>
                            <th class="text-left p-3 font-medium text-foreground">Description</th>
                        </tr>
                    </thead>
                    <tbody class="divide-y divide-border/40">
                        <tr>
                            <td class="p-3 font-mono text-xs text-primary">IsOpen</td>
                            <td class="p-3 font-mono text-xs text-muted-foreground">bool</td>
                            <td class="p-3 font-mono text-xs text-muted-foreground">false</td>
                            <td class="p-3 text-muted-foreground">Controls whether the dialog is open. Use with @@bind-IsOpen for two-way binding.</td>
                        </tr>
                        <tr>
                            <td class="p-3 font-mono text-xs text-primary">IsOpenChanged</td>
                            <td class="p-3 font-mono text-xs text-muted-foreground">EventCallback&lt;bool&gt;</td>
                            <td class="p-3 font-mono text-xs text-muted-foreground">—</td>
                            <td class="p-3 text-muted-foreground">Callback invoked when the open state changes. Part of the two-way binding pair.</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <div>
            <h3 class="text-lg font-semibold text-foreground mb-3">DialogContent</h3>
            <div class="rounded-lg border border-border overflow-hidden">
                <table class="w-full text-sm">
                    <thead>
                        <tr class="border-b bg-muted/40">
                            <th class="text-left p-3 font-medium text-foreground">Property</th>
                            <th class="text-left p-3 font-medium text-foreground">Type</th>
                            <th class="text-left p-3 font-medium text-foreground">Default</th>
                            <th class="text-left p-3 font-medium text-foreground">Description</th>
                        </tr>
                    </thead>
                    <tbody class="divide-y divide-border/40">
                        <tr>
                            <td class="p-3 font-mono text-xs text-primary italic text-muted-foreground" colspan="4">The dialog panel. Renders as a centered modal with a close button, backdrop, focus trap, and scroll lock. Must be a descendant of Dialog.</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <div>
            <h3 class="text-lg font-semibold text-foreground mb-3">DialogTrigger</h3>
            <div class="rounded-lg border border-border overflow-hidden">
                <table class="w-full text-sm">
                    <thead>
                        <tr class="border-b bg-muted/40">
                            <th class="text-left p-3 font-medium text-foreground">Property</th>
                            <th class="text-left p-3 font-medium text-foreground">Type</th>
                            <th class="text-left p-3 font-medium text-foreground">Default</th>
                            <th class="text-left p-3 font-medium text-foreground">Description</th>
                        </tr>
                    </thead>
                    <tbody class="divide-y divide-border/40">
                        <tr>
                            <td class="p-3 font-mono text-xs text-primary italic text-muted-foreground" colspan="4">Wraps any element and opens the dialog when clicked. Must be a descendant of Dialog.</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <div>
            <h3 class="text-lg font-semibold text-foreground mb-3">DialogClose</h3>
            <div class="rounded-lg border border-border overflow-hidden">
                <table class="w-full text-sm">
                    <thead>
                        <tr class="border-b bg-muted/40">
                            <th class="text-left p-3 font-medium text-foreground">Property</th>
                            <th class="text-left p-3 font-medium text-foreground">Type</th>
                            <th class="text-left p-3 font-medium text-foreground">Default</th>
                            <th class="text-left p-3 font-medium text-foreground">Description</th>
                        </tr>
                    </thead>
                    <tbody class="divide-y divide-border/40">
                        <tr>
                            <td class="p-3 font-mono text-xs text-primary italic text-muted-foreground" colspan="4">Wraps any element and closes the dialog when clicked. Must be a descendant of Dialog.</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <div>
            <h3 class="text-lg font-semibold text-foreground mb-3">DialogHeader</h3>
            <div class="rounded-lg border border-border overflow-hidden">
                <table class="w-full text-sm">
                    <thead>
                        <tr class="border-b bg-muted/40">
                            <th class="text-left p-3 font-medium text-foreground">Property</th>
                            <th class="text-left p-3 font-medium text-foreground">Type</th>
                            <th class="text-left p-3 font-medium text-foreground">Default</th>
                            <th class="text-left p-3 font-medium text-foreground">Description</th>
                        </tr>
                    </thead>
                    <tbody class="divide-y divide-border/40">
                        <tr>
                            <td class="p-3 font-mono text-xs text-primary italic text-muted-foreground" colspan="4">Container for dialog title and description. Renders as a flex column with spacing.</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <div>
            <h3 class="text-lg font-semibold text-foreground mb-3">DialogFooter</h3>
            <div class="rounded-lg border border-border overflow-hidden">
                <table class="w-full text-sm">
                    <thead>
                        <tr class="border-b bg-muted/40">
                            <th class="text-left p-3 font-medium text-foreground">Property</th>
                            <th class="text-left p-3 font-medium text-foreground">Type</th>
                            <th class="text-left p-3 font-medium text-foreground">Default</th>
                            <th class="text-left p-3 font-medium text-foreground">Description</th>
                        </tr>
                    </thead>
                    <tbody class="divide-y divide-border/40">
                        <tr>
                            <td class="p-3 font-mono text-xs text-primary italic text-muted-foreground" colspan="4">Container for dialog action buttons. Renders as a flex row (stacked on mobile).</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <div>
            <h3 class="text-lg font-semibold text-foreground mb-3">DialogTitle</h3>
            <div class="rounded-lg border border-border overflow-hidden">
                <table class="w-full text-sm">
                    <thead>
                        <tr class="border-b bg-muted/40">
                            <th class="text-left p-3 font-medium text-foreground">Property</th>
                            <th class="text-left p-3 font-medium text-foreground">Type</th>
                            <th class="text-left p-3 font-medium text-foreground">Default</th>
                            <th class="text-left p-3 font-medium text-foreground">Description</th>
                        </tr>
                    </thead>
                    <tbody class="divide-y divide-border/40">
                        <tr>
                            <td class="p-3 font-mono text-xs text-primary italic text-muted-foreground" colspan="4">The dialog title rendered as an h2 with semibold styling.</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <div>
            <h3 class="text-lg font-semibold text-foreground mb-3">DialogDescription</h3>
            <div class="rounded-lg border border-border overflow-hidden">
                <table class="w-full text-sm">
                    <thead>
                        <tr class="border-b bg-muted/40">
                            <th class="text-left p-3 font-medium text-foreground">Property</th>
                            <th class="text-left p-3 font-medium text-foreground">Type</th>
                            <th class="text-left p-3 font-medium text-foreground">Default</th>
                            <th class="text-left p-3 font-medium text-foreground">Description</th>
                        </tr>
                    </thead>
                    <tbody class="divide-y divide-border/40">
                        <tr>
                            <td class="p-3 font-mono text-xs text-primary italic text-muted-foreground" colspan="4">Muted descriptive text rendered below the dialog title.</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>

@code {
    private bool _isOpen;
    private bool _isSimpleOpen;
    private bool _isConfirmOpen;

    private string _defaultCode = @"<Dialog @bind-IsOpen=""_isOpen"">
    <DialogTrigger>
        <Button Variant=""Button.ButtonVariant.Outline"">Edit Profile</Button>
    </DialogTrigger>
    <DialogContent>
        <DialogHeader>
            <DialogTitle>Edit Profile</DialogTitle>
            <DialogDescription>Make changes to your profile here.</DialogDescription>
        </DialogHeader>
        <div class=""grid gap-4 py-4"">
            <div class=""grid grid-cols-4 items-center gap-4"">
                <label class=""text-right text-sm font-medium"">Name</label>
                <Input Class=""col-span-3"" Value=""John Doe"" />
            </div>
            <div class=""grid grid-cols-4 items-center gap-4"">
                <label class=""text-right text-sm font-medium"">Username</label>
                <Input Class=""col-span-3"" Value=""@johndoe"" />
            </div>
        </div>
        <DialogFooter>
            <DialogClose>
                <Button Variant=""Button.ButtonVariant.Outline"">Cancel</Button>
            </DialogClose>
            <DialogClose>
                <Button>Save Changes</Button>
            </DialogClose>
        </DialogFooter>
    </DialogContent>
</Dialog>

@code {
    private bool _isOpen;
}";

    private string _simpleCode = @"<Dialog @bind-IsOpen=""_isOpen"">
    <DialogTrigger>
        <Button>Share</Button>
    </DialogTrigger>
    <DialogContent>
        <DialogHeader>
            <DialogTitle>Share this document</DialogTitle>
            <DialogDescription>Anyone with the link can view this document.</DialogDescription>
        </DialogHeader>
        <div class=""py-4"">
            <Input Value=""https://example.com/share/abc123"" />
        </div>
        <DialogFooter>
            <DialogClose>
                <Button>Copy Link</Button>
            </DialogClose>
        </DialogFooter>
    </DialogContent>
</Dialog>

@code {
    private bool _isOpen;
}";

    private string _confirmCode = @"<Dialog @bind-IsOpen=""_isOpen"">
    <DialogTrigger>
        <Button Variant=""Button.ButtonVariant.Destructive"">
            <Blazicon Svg=""Lucide.Trash"" class=""h-4 w-4"" /> Delete Account
        </Button>
    </DialogTrigger>
    <DialogContent>
        <DialogHeader>
            <DialogTitle>Are you absolutely sure?</DialogTitle>
            <DialogDescription>
                This action cannot be undone. This will permanently delete your
                account and remove your data from our servers.
            </DialogDescription>
        </DialogHeader>
        <DialogFooter>
            <DialogClose>
                <Button Variant=""Button.ButtonVariant.Outline"">Cancel</Button>
            </DialogClose>
            <DialogClose>
                <Button Variant=""Button.ButtonVariant.Destructive"">Yes, delete account</Button>
            </DialogClose>
        </DialogFooter>
    </DialogContent>
</Dialog>

@code {
    private bool _isOpen;
}";
}
